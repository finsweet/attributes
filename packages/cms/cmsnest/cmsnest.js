(()=>{var re=Object.defineProperty;var se=(e,t,o)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var D=(e,t,o)=>(se(e,typeof t!="symbol"?t+"":t,o),o);var a=(e,t,o)=>new Promise((n,r)=>{var s=c=>{try{i(o.next(c))}catch(m){r(m)}},l=c=>{try{i(o.throw(c))}catch(m){r(m)}},i=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,l);i((o=o.apply(e,t)).next())});var u=class{static activateAlerts(){this.alertsActivated=!0}static alert(t,o){if(this.alertsActivated&&window.alert(t),o==="error")throw new Error(t)}};D(u,"alertsActivated",!1);var T={wrapper:"w-dyn-list",list:"w-dyn-items",item:"w-dyn-item",paginationWrapper:"w-pagination-wrapper",paginationNext:"w-pagination-next",paginationPrevious:"w-pagination-previous",pageCount:"w-page-count",emptyState:"w-dyn-empty"};var v=(e,t=!0)=>e.cloneNode(t);var{wrapper:ne,list:ie,paginationWrapper:ce,paginationNext:le,paginationPrevious:me,emptyState:pe,pageCount:ae}=T;function S(e,t,o=document){let n=typeof e=="string"?o.querySelector(e):e;if(!n)return;let r=n.closest(`.${ne}`);if(!r)return;let s=r.querySelector(`.${ie}`);return t==="wrapper"?r:t==="list"?s:t==="items"?[...(s==null?void 0:s.children)||[]]:t==="pageCount"?r.querySelector(`.${ae}`):t==="empty"?r.querySelector(`:scope > .${pe}`):t==="pagination"?r.querySelector(`.${ce}`):r.querySelector(`.${t==="next"?le:me}`)}var k=(e,t=document)=>{e=e.filter(s=>s);let o=e.join(", ")||`.${T.wrapper}`;return[...t.querySelectorAll(o)].reduce((s,l)=>{if(!l)return s;let i=S(l,"wrapper");return!i||s.includes(i)||s.push(i),s},[])};var I=e=>{let t=(n,r,s)=>{let l=e[n],{key:i,values:c}=l,m;if(!r)return`[${i}]`;let b=c==null?void 0:c[r];if(typeof b=="string"?m=b:m=b(s&&"instanceIndex"in s?s.instanceIndex:void 0),!(s==null?void 0:s.operator))return`[${i}="${m}"]`;switch(s.operator){case"prefixed":return`[${i}^="${m}"]`;case"suffixed":return`[${i}$="${m}"]`;case"contains":return`[${i}*="${m}"]`}};return[t,(n,r)=>{let s=t("element",n,r);return((r==null?void 0:r.scope)||document).querySelector(s)}]};var _="fs-attributes",y={preventLoad:{key:`${_}-preventload`},debugMode:{key:`${_}-debug`},src:{key:"src",values:{finsweet:"@finsweet/attributes"}},dev:{key:`${_}-dev`}},[P,je]=I(y);var j=()=>{let{currentScript:e}=document,{preventLoad:t,debugMode:o}=y,n=typeof(e==null?void 0:e.getAttribute(t.key))=="string";return typeof(e==null?void 0:e.getAttribute(o.key))=="string"&&u.activateAlerts(),{preventsLoad:n}};var U=()=>{if(window.fsAttributes&&!Array.isArray(window.fsAttributes))return;let e={cms:{},push(...t){var o,n;for(let[r,s]of t)(n=(o=this[r])==null?void 0:o.loading)==null||n.then(s)}};ue(e),fe(e),window.fsAttributes=e,window.FsAttributes=window.fsAttributes},ue=e=>{let t=P("src","finsweet",{operator:"contains"}),o=P("dev"),r=[...document.querySelectorAll(`script${t}, script${o}`)].reduce((s,l)=>{var c;let i=l.getAttribute(y.dev.key)||((c=l.src.match(/[\w-. ]+(?=(\.js)$)/))==null?void 0:c[0]);return i&&!s.includes(i)&&s.push(i),s},[]);for(let s of r){e[s]={};let l=e[s];l.loading=new Promise(i=>{l.resolve=c=>{i(c),delete l.resolve}})}},fe=e=>{let t=Array.isArray(window.fsAttributes)?window.fsAttributes:[];e.push(...t)};var de="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js",N=()=>a(void 0,null,function*(){let{fsAttributes:e}=window;e.cms||(e.cms={});let{cms:t}=e;if(t.coreImport)return t.coreImport;try{let o=import(de);return t.coreImport=o,o.then(n=>{n&&(t.coreVersion||(t.coreVersion=n.version))}),o}catch(o){u.alert(`${o}`,"error");return}});var z="1.4.0";function x(e){return e==null?void 0:e.trim().toLowerCase()}var w="cmsnest",R=`fs-${w}`,we="list",be="collection",ge="empty",C={element:{key:`${R}-element`,values:{list:we}},collection:{key:`${R}-${be}`},empty:{key:`${R}-${ge}`}},[f,ot]=I(C);var{collection:{key:H},empty:{key:ye}}=C,G=({createCMSListInstances:e})=>{let t=new Map,o=e([f("collection")]);for(let n of o){let r=x(n.getAttribute(H));if(!r)continue;let s=document.querySelector(`[${ye}^="${r}"]`);s&&(s.style.display="none"),n.wrapper.style.display="none",t.set(r,{listInstance:n,emptyElement:s})}return t},X=e=>{let t=new Map,o=e.querySelectorAll(f("collection"));for(let n of o){let r=x(n.getAttribute(H));!r||t.set(r,n)}return t};var xe=new DOMParser,h=(r,s,l)=>a(void 0,[r,s,l],function*({element:e,href:t},o,{CMSList:n}){if(!t)return;let i=X(e);if(!i.size)return;let m=yield(yield fetch(t)).text(),b=xe.parseFromString(m,"text/html");k([f("collection")],b).forEach((ee,te)=>{let B=new n(ee,te),L=x(B.getAttribute(C.collection.key));if(!L)return;let V=o.get(L),E=i.get(L);if(!V||!E)return;let W=E.parentElement;if(!W)return;let{listInstance:q,emptyElement:M}=V,$=B.items.reduce((p,{href:d})=>{if(!d)return p;let A=q.items.find(K=>K.href&&d===K.href);return A&&p.push(A.element),p},[]);if(!$.length&&!M)return;let g=v(q.wrapper),oe=S(g,"items");if(g.style.display="",$.length)for(let p of oe)!!$.find(A=>A.isEqualNode(p))||p.remove();else if(M){let p=S(g,"list");p==null||p.remove();let d=v(M);d.style.display="",g.appendChild(d)}W.insertBefore(g,E),E.remove()})});var Y=(e,t,o)=>{e.on("shouldnest",n=>a(void 0,null,function*(){yield Promise.all(n.map(r=>h(r,t,o)))}))};var O=(e,t)=>a(void 0,null,function*(){let o=G(t);if(!o.size){u.alert(`No collections to nest found for the list n\xBA ${e.index}`,"info");return}Y(e,o,t);let n=[...e.items];yield Promise.all(n.map(r=>h(r,o,t))),yield e.emitSerial("nestinitialitems",n)});var F=()=>a(void 0,null,function*(){var o,n;let e=yield N();if(!e)return[];let t=e.createCMSListInstances([f("element","list",{operator:"prefixed"})]);for(let r of t)O(r,e);return yield Promise.all(t.map(r=>O(r,e))),(n=(o=window.fsAttributes[w]).resolve)==null||n.call(o,t),t});U();N();var Q,Z;(Q=window.fsAttributes)[Z=w]||(Q[Z]={});var{preventsLoad:Ce}=j(),J=window.fsAttributes[w];J.version=z;Ce?J.init=F:(window.Webflow||(window.Webflow=[]),window.Webflow.push(F));})();
