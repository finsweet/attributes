(()=>{var J=Object.defineProperty;var F=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var V=(e,t,o)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,O=(e,t)=>{for(var o in t||(t={}))Q.call(t,o)&&V(e,o,t[o]);if(F)for(var o of F(t))Y.call(t,o)&&V(e,o,t[o]);return e};var p=(e,t,o)=>new Promise((n,r)=>{var i=s=>{try{c(o.next(s))}catch(m){r(m)}},l=s=>{try{c(o.throw(s))}catch(m){r(m)}},c=s=>s.done?n(s.value):Promise.resolve(s.value).then(i,l);c((o=o.apply(e,t)).next())});var u=class{static activateAlerts(){this.alertsActivated=!0}static alert(t,o){if(this.alertsActivated&&window.alert(t),o==="error")throw new Error(t)}};u.alertsActivated=!1;var y={wrapper:"w-dyn-list",list:"w-dyn-items",item:"w-dyn-item",paginationNext:"w-pagination-next",paginationPrevious:"w-pagination-previous",emptyState:"w-dyn-empty"};var E=(e,t=!0)=>e.cloneNode(t);var I=e=>e!=null;var{wrapper:Z,list:ee,paginationNext:te,paginationPrevious:oe,emptyState:re}=y;function f(e,t,o=document){let n=typeof e=="string"?o.querySelector(e):e;if(!n)return;let r=n.closest(`.${Z}`);if(!r)return;let i=r.querySelector(`.${ee}`);return t==="wrapper"?r:t==="list"?i:t==="items"?[...(i==null?void 0:i.children)||[]]:t==="empty"?r.querySelector(`.${re}`):r.querySelector(`.${t==="next"?te:oe}`)}var d=(e,t=document)=>{e=e.filter(i=>i);let o=e.join(", ")||`.${y.wrapper}`;return[...t.querySelectorAll(o)].reduce((i,l)=>{if(!l)return i;let c=f(l,"wrapper");return!c||i.includes(c)||i.push(c),i},[])};var R="fs-attributes",B={preventLoad:{key:`${R}-preventload`},debugMode:{key:`${R}-debug`}};var K=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},q=e=>{let{preventLoad:t,debugMode:o}=B,n=typeof(e==null?void 0:e.getAttribute(t.key))=="string";return typeof(e==null?void 0:e.getAttribute(o.key))=="string"&&u.activateAlerts(),{preventsLoad:n}};var j=e=>(o,n,r)=>{let i=e[o],{key:l,values:c}=i,s;if(!n)return`[${l}]`;let m=c==null?void 0:c[n];if(typeof m=="string"?s=m:s=m(r&&"instanceIndex"in r?r.instanceIndex:void 0),!(r==null?void 0:r.operator))return`[${l}="${s}"]`;switch(r.operator){case"prefixed":return`[${l}^="${s}"]`;case"suffixed":return`[${l}$="${s}"]`;case"contains":return`[${l}*="${s}"]`}};var ne="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1.0.5/cmscore.js";var b=()=>p(void 0,null,function*(){let{fsAttributes:e}=window;if(e.cms||(e.cms={}),e.cms.coreImport)return e.cms.coreImport;try{let t=import(ne);return e.cms.coreImport=t,t}catch(t){u.alert(`${t}`,"error");return}});var N="fs-cmsnest",v={element:{key:`${N}-element`,values:{list:"list"}},list:{key:`${N}-list`},empty:{key:`${N}-empty`}},g=j(v);var{list:{key:M},empty:{key:ie}}=v,se=new DOMParser,U=({createCMSListInstance:e})=>{let t=new Map,o=d([g("list")]);for(let n of o){let r=e(n);if(!r)continue;let i=r.getAttribute(M);if(!i)continue;let l=document.querySelector(`[${ie}^="${i}"]`);l&&l.remove(),n.remove(),t.set(i,{listInstance:r,emptyElement:l})}return t},h=(r,i,l)=>p(void 0,[r,i,l],function*({element:e,href:t},o,{CMSList:n}){if(!t)return;let c=le(e);if(!c.size)return;let m=yield(yield fetch(t)).text(),H=se.parseFromString(m,"text/html"),G=d([g("list")],H);for(let X of G){let $=new n(X),w=$.getAttribute(M);if(!w)continue;let W=o.get(w),S=c.get(w);if(!W||!S)continue;let _=S.parentElement;if(!_)continue;let{listInstance:P,emptyElement:T}=W,A=$.items.reduce((a,{href:L})=>{if(!L)return a;let x=P.items.find(D=>D.href&&L===D.href);return x&&a.push(x.element),a},[]);if(!A.length&&!T)continue;let C=E(P.wrapper),z=f(C,"items");if(A.length)for(let a of z)!!A.find(x=>x.isEqualNode(a))||a.remove();else if(T){let a=f(C,"list");a==null||a.remove(),C.appendChild(E(T))}_.insertBefore(C,S),S.remove()}}),le=e=>{let t=new Map,o=e.querySelectorAll(g("list"));for(let n of o){let r=n.getAttribute(M);!r||t.set(r,n)}return t};var k=()=>p(void 0,null,function*(){let e=yield b();if(!e)return;let o=d([g("element","list",{operator:"prefixed"})]).map(e.createCMSListInstance).filter(I);for(let n of o)ce(n,e)}),ce=(e,t)=>p(void 0,null,function*(){let o=U(t);if(!o.size)return;e.on("beforeadditems",r=>p(void 0,null,function*(){console.log("before adding items"),yield Promise.all(r.map(i=>h(i,o,t))),yield e.emitSerial("nestnewitems",r)}));let n=O({},e.items);yield Promise.all(n.map(r=>h(r,o,t))),yield e.emitSerial("nestinitialitems",n)});K();var{currentScript:ae}=document,{preventsLoad:me}=q(ae);b();me?window.fsAttributes.cmsnest={init:k}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(k));})();
