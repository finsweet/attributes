(()=>{var re=Object.defineProperty;var se=(e,t,o)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var K=(e,t,o)=>(se(e,typeof t!="symbol"?t+"":t,o),o);var a=(e,t,o)=>new Promise((n,s)=>{var r=c=>{try{i(o.next(c))}catch(m){s(m)}},l=c=>{try{i(o.throw(c))}catch(m){s(m)}},i=c=>c.done?n(c.value):Promise.resolve(c.value).then(r,l);i((o=o.apply(e,t)).next())});var u=class{static activateAlerts(){this.alertsActivated=!0}static alert(t,o){if(this.alertsActivated&&window.alert(t),o==="error")throw new Error(t)}};K(u,"alertsActivated",!1);var T={wrapper:"w-dyn-list",list:"w-dyn-items",item:"w-dyn-item",paginationWrapper:"w-pagination-wrapper",paginationNext:"w-pagination-next",paginationPrevious:"w-pagination-previous",pageCount:"w-page-count",emptyState:"w-dyn-empty"};var v=(e,t=!0)=>e.cloneNode(t);var{wrapper:ne,list:ie,paginationWrapper:ce,paginationNext:le,paginationPrevious:me,emptyState:pe,pageCount:ae}=T;function S(e,t,o=document){let n=typeof e=="string"?o.querySelector(e):e;if(!n)return;let s=n.closest(`.${ne}`);if(!s)return;let r=s.querySelector(`.${ie}`);return t==="wrapper"?s:t==="list"?r:t==="items"?[...(r==null?void 0:r.children)||[]]:t==="pageCount"?s.querySelector(`.${ae}`):t==="empty"?s.querySelector(`:scope > .${pe}`):t==="pagination"?s.querySelector(`.${ce}`):s.querySelector(`.${t==="next"?le:me}`)}var k=(e,t=document)=>{e=e.filter(r=>r);let o=e.join(", ")||`.${T.wrapper}`;return[...t.querySelectorAll(o)].reduce((r,l)=>{if(!l)return r;let i=S(l,"wrapper");return!i||r.includes(i)||r.push(i),r},[])};var N=e=>{let t=(n,s,r)=>{let l=e[n],{key:i,values:c}=l,m;if(!s)return`[${i}]`;let b=c==null?void 0:c[s];if(typeof b=="string"?m=b:m=b(r&&"instanceIndex"in r?r.instanceIndex:void 0),!(r==null?void 0:r.operator))return`[${i}="${m}"]`;switch(r.operator){case"prefixed":return`[${i}^="${m}"]`;case"suffixed":return`[${i}$="${m}"]`;case"contains":return`[${i}*="${m}"]`}};return[t,(n,s)=>{let r=t("element",n,s);return((s==null?void 0:s.scope)||document).querySelector(r)}]};var _="fs-attributes",y={preventLoad:{key:`${_}-preventload`},debugMode:{key:`${_}-debug`},src:{key:"src",values:{finsweet:"@finsweet/attributes"}},dev:{key:`${_}-dev`}},[P,je]=N(y);var D=()=>{let{currentScript:e}=document,{preventLoad:t,debugMode:o}=y,n=typeof(e==null?void 0:e.getAttribute(t.key))=="string";return typeof(e==null?void 0:e.getAttribute(o.key))=="string"&&u.activateAlerts(),{preventsLoad:n}};var j=()=>{if(window.fsAttributes&&!Array.isArray(window.fsAttributes))return;let e={cms:{},push(...t){var o,n;for(let[s,r]of t)(n=(o=this[s])==null?void 0:o.loading)==null||n.then(r)}};ue(e),fe(e),window.fsAttributes=e,window.FsAttributes=window.fsAttributes},ue=e=>{let t=P("src","finsweet",{operator:"contains"}),o=P("dev"),s=[...document.querySelectorAll(`script${t}, script${o}`)].reduce((r,l)=>{var c;let i=l.getAttribute(y.dev.key)||((c=l.src.match(/[\w-. ]+(?=(\.js)$)/))==null?void 0:c[0]);return i&&!r.includes(i)&&r.push(i),r},[]);for(let r of s){e[r]={};let l=e[r];l.loading=new Promise(i=>{l.resolve=c=>{i(c),delete l.resolve}})}},fe=e=>{let t=Array.isArray(window.fsAttributes)?window.fsAttributes:[];e.push(...t)};var de="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js",h=()=>a(void 0,null,function*(){let{fsAttributes:e}=window;e.cms||(e.cms={});let{cms:t}=e;if(t.coreImport)return t.coreImport;try{let o=import(de);return t.coreImport=o,o.then(n=>{n&&(t.coreVersion||(t.coreVersion=n.version))}),o}catch(o){u.alert(`${o}`,"error");return}});var U="1.4.1";function x(e){return e==null?void 0:e.trim().toLowerCase()}var w="cmsnest",R=`fs-${w}`,we="list",be="collection",ge="empty",C={element:{key:`${R}-element`,values:{list:we}},collection:{key:`${R}-${be}`},empty:{key:`${R}-${ge}`}},[f,ot]=N(C);var{collection:{key:z},empty:{key:ye}}=C,H=({createCMSListInstances:e})=>{let t=new Map,o=e([f("collection")]);for(let n of o){let s=x(n.getAttribute(z));if(!s)continue;let r=document.querySelector(`[${ye}^="${s}"]`);r&&(r.style.display="none"),n.wrapper.style.display="none",t.set(s,{listInstance:n,emptyElement:r})}return t},G=e=>{let t=new Map,o=e.querySelectorAll(f("collection"));for(let n of o){let s=x(n.getAttribute(z));!s||t.set(s,n)}return t};var xe=new DOMParser,I=(s,r,l)=>a(void 0,[s,r,l],function*({element:e,href:t},o,{CMSList:n}){if(!t)return;let i=G(e);if(!i.size)return;let m=yield(yield fetch(t)).text(),b=xe.parseFromString(m,"text/html");k([f("collection")],b).forEach((ee,te)=>{let F=new n(ee,te),L=x(F.getAttribute(C.collection.key));if(!L)return;let B=o.get(L),E=i.get(L);if(!B||!E)return;let V=E.parentElement;if(!V)return;let{listInstance:W,emptyElement:M}=B,$=F.items.reduce((p,{href:d})=>{if(!d)return p;let A=W.items.find(q=>q.href&&d===q.href);return A&&p.push(A.element),p},[]);if(!$.length&&!M)return;let g=v(W.wrapper),oe=S(g,"items");if(g.style.display="",$.length)for(let p of oe)!!$.find(A=>A.isEqualNode(p))||p.remove();else if(M){let p=S(g,"list");p==null||p.remove();let d=v(M);d.style.display="",g.appendChild(d)}V.insertBefore(g,E),E.remove()})});var X=(e,t,o)=>{e.on("shouldnest",n=>a(void 0,null,function*(){yield Promise.all(n.map(s=>I(s,t,o)))}))};var Y=(e,t)=>a(void 0,null,function*(){let o=H(t);if(!o.size){u.alert(`No collections to nest found for the list n\xBA ${e.index}`,"info");return}X(e,o,t);let n=[...e.items];yield Promise.all(n.map(s=>I(s,o,t))),yield e.emitSerial("nestinitialitems",n)});var O=()=>a(void 0,null,function*(){var o,n;let e=yield h();if(!e)return[];let t=e.createCMSListInstances([f("element","list",{operator:"prefixed"})]);return yield Promise.all(t.map(s=>Y(s,e))),(n=(o=window.fsAttributes[w]).resolve)==null||n.call(o,t),t});j();h();var Q,Z;(Q=window.fsAttributes)[Z=w]||(Q[Z]={});var{preventsLoad:Ce}=D(),J=window.fsAttributes[w];J.version=U;Ce?J.init=O:(window.Webflow||(window.Webflow=[]),window.Webflow.push(O));})();
