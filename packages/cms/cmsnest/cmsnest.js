(()=>{var ce=Object.defineProperty;var le=(e,t,o)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var j=(e,t,o)=>(le(e,typeof t!="symbol"?t+"":t,o),o);var a=(e,t,o)=>new Promise((s,n)=>{var r=c=>{try{i(o.next(c))}catch(p){n(p)}},l=c=>{try{i(o.throw(c))}catch(p){n(p)}},i=c=>c.done?s(c.value):Promise.resolve(c.value).then(r,l);i((o=o.apply(e,t)).next())});var u=class{static activateAlerts(){this.alertsActivated=!0}static alert(t,o){if(this.alertsActivated&&window.alert(t),o==="error")throw new Error(t)}};j(u,"alertsActivated",!1);var P={wrapper:"w-dyn-list",list:"w-dyn-items",item:"w-dyn-item",paginationWrapper:"w-pagination-wrapper",paginationNext:"w-pagination-next",paginationPrevious:"w-pagination-previous",pageCount:"w-page-count",emptyState:"w-dyn-empty"};var _=(e,t=!0)=>e.cloneNode(t);var{wrapper:pe,list:ae,paginationWrapper:me,paginationNext:ue,paginationPrevious:fe,emptyState:de,pageCount:Se}=P;function x(e,t,o=document){let s=typeof e=="string"?o.querySelector(e):e;if(!s)return;let n=s.closest(`.${pe}`);if(!n)return;let r=n.querySelector(`.${ae}`);return t==="wrapper"?n:t==="list"?r:t==="items"?[...(r==null?void 0:r.children)||[]]:t==="pageCount"?n.querySelector(`.${Se}`):t==="empty"?n.querySelector(`:scope > .${de}`):t==="pagination"?n.querySelector(`.${me}`):n.querySelector(`.${t==="next"?ue:fe}`)}var V=(e,t=document)=>{e=e.filter(r=>r);let o=e.join(", ")||`.${P.wrapper}`;return[...t.querySelectorAll(o)].reduce((r,l)=>{if(!l)return r;let i=x(l,"wrapper");return!i||r.includes(i)||r.push(i),r},[])};var $=e=>{let t=(s,n,r)=>{let l=e[s],{key:i,values:c}=l,p;if(!n)return`[${i}]`;let f=c==null?void 0:c[n];if(typeof f=="string"?p=f:p=f(r&&"instanceIndex"in r?r.instanceIndex:void 0),!(r!=null&&r.operator))return`[${i}="${p}"]`;switch(r.operator){case"prefixed":return`[${i}^="${p}"]`;case"suffixed":return`[${i}$="${p}"]`;case"contains":return`[${i}*="${p}"]`}};return[t,(s,n)=>{let r=t("element",s,n);return((n==null?void 0:n.scope)||document).querySelector(r)}]};var h="fs-attributes",I={preventLoad:{key:`${h}-preventload`},debugMode:{key:`${h}-debug`},src:{key:"src",values:{finsweet:"@finsweet/attributes"}},dev:{key:`${h}-dev`}},[U,Xe]=$(I);var H=()=>{let{currentScript:e}=document,{preventLoad:t,debugMode:o}=I,s=typeof(e==null?void 0:e.getAttribute(t.key))=="string";return typeof(e==null?void 0:e.getAttribute(o.key))=="string"&&u.activateAlerts(),{preventsLoad:s}};var we=`${h}-support`,be="https://cdn.jsdelivr.net/npm/@finsweet/attributes-support@1/support.js",z=()=>a(void 0,null,function*(){let{fsAttributes:e,location:t}=window,{host:o,searchParams:s}=new URL(t.href);if(!o.includes("webflow.io")||!s.has(we))return!1;if(e.supportImport)return e.supportImport;try{e.supportImport=new Promise((n,r)=>{let l=document.createElement("script");l.src=be,l.onload=()=>n(!0),l.onerror=r,document.head.append(l)})}catch(n){return!1}return e.supportImport});var G=()=>{if(window.fsAttributes&&!Array.isArray(window.fsAttributes))return;let e={cms:{},push(...t){var o,s;for(let[n,r]of t)(s=(o=this[n])==null?void 0:o.loading)==null||s.then(r)}};ge(e),ye(e),window.fsAttributes=e,window.FsAttributes=window.fsAttributes,z()},ge=e=>{let t=U("src","finsweet",{operator:"contains"}),o=U("dev"),n=[...document.querySelectorAll(`script${t}, script${o}`)].reduce((r,l)=>{var c;let i=l.getAttribute(I.dev.key)||((c=l.src.match(/[\w-. ]+(?=(\.js)$)/))==null?void 0:c[0]);return i&&!r.includes(i)&&r.push(i),r},[]);for(let r of n){e[r]={};let l=e[r];l.loading=new Promise(i=>{l.resolve=c=>{i(c),delete l.resolve}})}},ye=e=>{let t=Array.isArray(window.fsAttributes)?window.fsAttributes:[];e.push(...t)};var Ce="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js",k=()=>a(void 0,null,function*(){let{fsAttributes:e}=window;e.cms||(e.cms={});let{cms:t}=e;if(t.coreImport)return t.coreImport;try{let o=import(Ce);return t.coreImport=o,o.then(s=>{s&&(t.coreVersion||(t.coreVersion=s.version))}),o}catch(o){u.alert(`${o}`,"error");return}});var X="1.6.2";function S(e){return e==null?void 0:e.trim().toLowerCase()}var E="cmsnest",q=`fs-${E}`,Ee="list",Ae="collection",Te="empty",v={element:{key:`${q}-element`,values:{list:Ee}},collection:{key:`${q}-${Ae}`},empty:{key:`${q}-${Te}`}},[w,at]=$(v);var{collection:{key:Y},empty:{key:he}}=v,J=({createCMSListInstances:e})=>{let t=new Map,o=e([w("collection")]);for(let s of o){let n=S(s.getAttribute(Y));if(!n)continue;let r=document.querySelector(`[${he}^="${n}"]`);r&&(r.style.display="none"),s.wrapper.style.display="none",t.set(n,{listInstance:s,emptyElement:r})}return t},Q=e=>{let t=new Map,o=e.querySelectorAll(`${w("collection")}:not(a)`);for(let s of o){let n=S(s.getAttribute(Y));!n||t.set(n,s)}return t};var R=class{constructor(t,o,s){this.element=t;this.list=o;this.currentIndex=s;this.props={};this.valid=!0;var r;this.href=(r=t.querySelector("a"))==null?void 0:r.href;let n=typeof s=="number";this.needsWebflowRestart=!n}collectProps({fieldKey:t,typeKey:o,rangeKey:s}){let{element:n,props:r}=this,l=[...n.querySelectorAll(`[${t}]`)];for(let i of l){let c=S(i.getAttribute(t));if(!c)return;let{textContent:p,innerHTML:f}=i;if(!p)continue;let O=o?i.getAttribute(o):void 0,b=s?i.getAttribute(s):void 0;r[c]||(r[c]={type:O,range:b,values:new Set,elements:new Map});let A=r[c],{values:g,elements:T}=A;if(b==="from"||b==="to"){let d=[...g];d[b==="from"?0:1]=p,A.values=new Set(d)}g.add(p),T.has(p)||T.set(p,{element:i,originalHTML:f})}}};var Ie=new DOMParser,Z=new Map,ee=e=>a(void 0,null,function*(){try{let t=Z.get(e);if(t)return t;let o=new Promise(s=>a(void 0,null,function*(){let r=yield(yield fetch(e)).text(),l=Ie.parseFromString(r,"text/html");s(l)}));return Z.set(e,o),o}catch(t){return null}});var M=(n,r,l)=>a(void 0,[n,r,l],function*({element:e,href:t},o,s){if(!t)return;let{CMSList:i}=s,c=Q(e);if(!c.size)return;let p=yield ee(t);if(!p)return;let f=V([w("collection")],p);yield Promise.all(f.map((O,b)=>a(void 0,null,function*(){let A=new i(O,b),g=S(A.getAttribute(v.collection.key));if(!g)return;let T=o.get(g),d=c.get(g);if(!T||!d)return;let D=d.parentElement;if(!D)return;let{listInstance:K,emptyElement:B}=T,F=A.items.reduce((m,{href:C})=>{if(!C)return m;let L=K.items.find(N=>N.href&&C===N.href);return L&&m.push(L),m},[]);if(!F.length&&!B)return;let y=_(K.wrapper),ie=x(y,"items");if(y.style.display="",F.length)for(let m of ie){if(!!!F.find(({element:N})=>N.isEqualNode(m))){m.remove();continue}let L=new R(m,y);yield M(L,o,s)}else if(B){let m=x(y,"list");m==null||m.remove();let C=_(B);C.style.display="",y.appendChild(C)}D.insertBefore(y,d),d.remove()})))});var te=(e,t,o)=>{e.on("shouldnest",s=>a(void 0,null,function*(){yield Promise.all(s.map(n=>M(n,t,o)))}))};var oe=(e,t)=>a(void 0,null,function*(){let o=J(t);if(!o.size){u.alert(`No collections to nest found for the list n\xBA ${e.index}`,"info");return}te(e,o,t);let s=[...e.items];yield Promise.all(s.map(n=>M(n,o,t))),yield e.emitSerial("nestinitialitems",s)});var W=()=>a(void 0,null,function*(){var o,s;let e=yield k();if(!e)return[];let t=e.createCMSListInstances([w("element","list",{operator:"prefixed"})]);return yield Promise.all(t.map(n=>oe(n,e))),(s=(o=window.fsAttributes[E]).resolve)==null||s.call(o,t),t});G();k();var re,se;(re=window.fsAttributes)[se=E]||(re[se]={});var{preventsLoad:ve}=H(),ne=window.fsAttributes[E];ne.version=X;ve?ne.init=W:(window.Webflow||(window.Webflow=[]),window.Webflow.push(W));})();
