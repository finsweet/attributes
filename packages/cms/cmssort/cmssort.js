(()=>{var rt=Object.defineProperty,st=Object.defineProperties;var nt=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var it=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var F=(t,e,o)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,N=(t,e)=>{for(var o in e||(e={}))it.call(e,o)&&F(t,o,e[o]);if(V)for(var o of V(e))at.call(e,o)&&F(t,o,e[o]);return t},R=(t,e)=>st(t,nt(e));var l=(t,e,o)=>new Promise((r,s)=>{var n=a=>{try{c(o.next(a))}catch(m){s(m)}},i=a=>{try{c(o.throw(a))}catch(m){s(m)}},c=a=>a.done?r(a.value):Promise.resolve(a.value).then(n,i);c((o=o.apply(t,e)).next())});var f=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,o){if(this.alertsActivated&&window.alert(e),o==="error")throw new Error(e)}};f.alertsActivated=!1;var M="w--current";var v={dropdown:"w-dropdown",dropdownToggle:"w-dropdown-toggle",dropdownList:"w-dropdown-list"};var k=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(r=>t.dispatchEvent(new Event(r,{bubbles:!0}))).every(r=>r));var O=(t,e)=>!!t&&e.includes(t);var B="fs-attributes",P={preventLoad:{key:`${B}-preventload`},debugMode:{key:`${B}-debug`}};var U=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},H=t=>{let{preventLoad:e,debugMode:o}=P,r=typeof(t==null?void 0:t.getAttribute(e.key))=="string";return typeof(t==null?void 0:t.getAttribute(o.key))=="string"&&f.activateAlerts(),{preventsLoad:r}},D=t=>e=>`${t}${e?`-${e}`:""}`,W=t=>(o,r,s)=>{let n=t[o],{key:i,values:c}=n,a;if(!r)return`[${i}]`;let m=c==null?void 0:c[r];if(typeof m=="string"?a=m:a=m(s&&"instanceIndex"in s?s.instanceIndex:void 0),!(s==null?void 0:s.operator))return`[${i}="${a}"]`;switch(s.operator){case"prefixed":return`[${i}^="${a}"]`;case"suffixed":return`[${i}$="${a}"]`;case"contains":return`[${i}*="${a}"]`}};var ct="https://cdn.jsdelivr.net/npm/@finsweet/attributes-animation@1/functions.js",lt="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js",E=()=>l(void 0,null,function*(){let{fsAttributes:t}=window;if(t.animationImport)return t.animationImport;try{let e=import(ct);return t.animationImport=e,e}catch(e){f.alert(`${e}`,"error");return}}),I=()=>l(void 0,null,function*(){let{fsAttributes:t}=window;t.cms||(t.cms={});let{cms:e}=t;if(e.coreImport)return e.coreImport;try{let o=import(lt);return e.coreImport=o,o.then(r=>{r&&(e.coreVersion||(e.coreVersion=r.version))}),o}catch(o){f.alert(`${o}`,"error");return}});var g="fs-cmssort",y={element:{key:`${g}-element`,values:{list:D("list"),trigger:D("trigger"),dropdownLabel:D("dropdown-label"),scrollAnchor:D("scroll-anchor")}},field:{key:`${g}-field`},type:{key:`${g}-type`,values:{date:"date"}},easing:{key:`${g}-easing`},duration:{key:`${g}-duration`},ascClass:{key:`${g}-asc`},descClass:{key:`${g}-desc`},reverse:{key:`${g}-reverse`,values:{true:"true"}}},b=W(y),j=`${g}_asc`,q=`${g}_desc`;var z=.1;var G=(r,s)=>l(void 0,[r,s],function*(t,{durationKey:e,easingKey:o}){let n=yield E();if(!n)return;let{animations:{fade:i},easings:c}=n,a=t.getAttribute(e),m=t.getAttribute(o);t.listAnimation=R(N({},i),{options:{easing:O(m,c)?m:void 0,duration:a?parseFloat(a)/200:z}})});var{field:{key:mt},type:{key:pt}}=y,X=(t,e,o)=>{t.on("shouldcollectprops",r=>l(void 0,null,function*(){for(let s of r)s.collectProps({fieldKey:mt,typeKey:pt})})),t.on("shouldsort",r=>l(void 0,null,function*(){e.push(...r),yield o(!0)}))};var A=(t,e)=>{let{coreVersion:o}=window.fsAttributes.cms;if(!o)return!1;let r={numeric:!0,sensitivity:"base"},s=e.localeCompare(o,void 0,r);return s===0||(t===">="?s<0:s>0)};function x(t){return t==null?void 0:t.trim().toLowerCase()}var L=(n,i)=>l(void 0,[n,i],function*(t,{originalItemsOrder:e,direction:o,sortKey:r,addingItems:s}){let{items:c,currentPage:a}=t;o&&r&&c.some(({props:p})=>r in p)?c.sort((p,u)=>{let d=p.props[r],w=u.props[r],[S]=(d==null?void 0:d.values)||[],[C]=(w==null?void 0:w.values)||[];if(!S)return 1;if(!C)return-1;let{type:T}=d;if(T==="date"){let _=new Date(S).getTime(),K=new Date(C).getTime();return o==="asc"?_-K:K-_}let $={numeric:!0,sensitivity:"base"};return o==="asc"?S.localeCompare(C,void 0,$):C.localeCompare(S,void 0,$)}):t.items=[...e],s||(a&&(t.currentPage=1),t.scrollToAnchor(),yield t.renderItems())});var J=(t,e,o)=>l(void 0,null,function*(){let r=t.closest("form");r==null||r.addEventListener("submit",ut);let s=!1,n=t.value,i,c=a=>l(void 0,null,function*(){yield L(e,{originalItemsOrder:o,direction:i,sortKey:n,addingItems:a})});return t.addEventListener("change",()=>l(void 0,null,function*(){if(s)return;s=!0;let{value:a}=t;a.endsWith("-asc")?(i="asc",n=a.slice(0,-4)):a.endsWith("-desc")?(i="desc",n=a.slice(0,-5)):(i="asc",n=a),A(">=","1.2.0")&&(n=x(n)),yield c(),s=!1})),n&&(yield c()),c}),ut=t=>(t.preventDefault(),t.stopImmediatePropagation(),!1);var{dropdownToggle:dt,dropdownList:ft}=v,Q=(t,e,o)=>{let r=t.querySelector(`.${dt}`),s=t.querySelector(`.${ft}`);if(!r||!s){f.alert("The cmssort Dropdown is missing a toggle or a list.","error");return}yt(r,s);let n=gt(r),i=St(s);if(!i){f.alert("The cmssort Dropdown doesn't have any option.","error");return}let c=!1,a,m,p=u=>l(void 0,null,function*(){yield L(e,{originalItemsOrder:o,direction:m,sortKey:a,addingItems:u})});return s.addEventListener("click",u=>l(void 0,null,function*(){if(u.preventDefault(),c)return;c=!0;let{target:d}=u;if(!(d instanceof Element)){c=!1;return}let w=d.closest("a");if(!w){c=!1;return}let S=i.find(({element:T})=>T===w);if(!S||S.selected){c=!1;return}let C=i.find(({selected:T})=>T);C&&(C.selected=!1),S.selected=!0,{sortKey:a,direction:m}=S,Ct(i),n==null||n.updateContent(S),bt(r),yield p(),c=!1})),p},St=t=>{let e=[],o=t.querySelectorAll("a");if(!!o.length){for(let r of o){r.setAttribute("role","option");let s=r.getAttribute(y.field.key),n,i;s&&(s.endsWith("-asc")?(i="asc",n=s.slice(0,-4)):s.endsWith("-desc")?(i="desc",n=s.slice(0,-5)):(i="asc",n=s)),n&&A(">=","1.2.0")&&(n=x(n)),e.push({element:r,sortKey:n,direction:i,selected:!1})}return e}},gt=t=>{let e=t.querySelector(b("element","dropdownLabel",{operator:"prefixed"}));if(!e)return;let o=e.innerHTML;return{element:e,originalHTML:o,updateContent:({element:s,sortKey:n})=>{e.innerHTML=n?s.innerHTML:o}}},yt=(t,e)=>{t.setAttribute("aria-haspopup","listbox"),e.setAttribute("role","listbox"),e.setAttribute("aria-multiselectable","false")},Ct=t=>{for(let{element:e,selected:o}of t){if(o){e.setAttribute("aria-selected","true"),e.classList.add(M);continue}e.removeAttribute("aria-selected"),e.classList.remove(M)}},bt=t=>{k(t,"mouseup"),t.focus()};var{ascClass:{key:wt},descClass:{key:At},reverse:{key:xt,values:Lt}}=y,Y=(t,e,o,r)=>{let s=new Map,n=!1,i,c,a,m=p=>l(void 0,null,function*(){yield L(e,{originalItemsOrder:o,sortKey:a,direction:c,addingItems:p})});for(let p of t)Tt(p,s,r),p.addEventListener("click",u=>l(void 0,null,function*(){if(u.preventDefault(),n)return;n=!0;let d=s.get(p);if(!d){n=!1;return}a=d.sortKey,c=Dt(d.direction,d.reverse),i&&p!==i&&et(i,void 0,s),i=p,et(p,c,s),yield m(),n=!1}));return m},Tt=(t,e,o)=>{let r=t.getAttribute(y.field.key);if(A(">=","1.2.0")&&(r=x(r)),!r)return;let s=t.getAttribute(xt)===Lt.true,n=t.getAttribute(wt),i=t.getAttribute(At),c={sortKey:r,reverse:s,cssClasses:{asc:n||o.asc,desc:i||o.desc}};t.setAttribute("role","columnheader"),t.setAttribute("tabindex","0"),tt(t),e.set(t,c),Z(t,c)},Z=(...[t,{cssClasses:e}])=>{for(let o of Object.values(e))t.classList.remove(o)},tt=(t,e)=>{t.setAttribute("aria-sort",e?e==="asc"?"ascending":"descending":"none")},et=(t,e,o)=>{let r=o.get(t);if(!r)return;let{cssClasses:s}=r;Z(t,r),e&&t.classList.add(s[e]),tt(t,e),r.direction=e},Dt=(t,e)=>t?t==="desc"?"asc":"desc":e?"desc":"asc";var{element:{key:vt},field:{key:Et},type:{key:It},duration:{key:Mt},easing:{key:kt},ascClass:{key:Ot},descClass:{key:ht}}=y,ot=t=>l(void 0,null,function*(){let e=t.getInstanceIndex(vt),o=document.querySelectorAll(b("element","trigger",{instanceIndex:e}));if(!o.length)return;let{items:r,listAnimation:s}=t;for(let u of r)u.collectProps({fieldKey:Et,typeKey:It});if(s||G(t,{durationKey:Mt,easingKey:kt}),!t.scrollAnchor){let u=document.querySelector(b("element","scrollAnchor",{instanceIndex:e}));u&&(t.scrollAnchor=u)}let n={asc:t.getAttribute(Ot)||j,desc:t.getAttribute(ht)||q},i=[...r],[c]=o,a=c instanceof HTMLSelectElement,m=c.closest(`.${v.dropdown}`),p=a?yield J(c,t,i):m?Q(m,t,i):Y(o,t,i,n);!p||X(t,i,p)});var h=()=>l(void 0,null,function*(){let t=yield I();if(!t)return[];let e=t.createCMSListInstances([b("element","list",{operator:"prefixed"})]);return yield Promise.all(e.map(ot)),e});U();var{currentScript:$t}=document,{preventsLoad:_t}=H($t);I();E();_t?window.fsAttributes.cmssort={init:h}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(h));})();
