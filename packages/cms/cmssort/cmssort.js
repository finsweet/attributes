(()=>{var nt=Object.defineProperty,it=Object.defineProperties;var at=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var V=(t,e,o)=>e in t?nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,N=(t,e)=>{for(var o in e||(e={}))ct.call(e,o)&&V(t,o,e[o]);if(F)for(var o of F(e))lt.call(e,o)&&V(t,o,e[o]);return t},R=(t,e)=>it(t,at(e));var p=(t,e,o)=>new Promise((r,s)=>{var n=a=>{try{i(o.next(a))}catch(m){s(m)}},c=a=>{try{i(o.throw(a))}catch(m){s(m)}},i=a=>a.done?r(a.value):Promise.resolve(a.value).then(n,c);i((o=o.apply(t,e)).next())});var S=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,o){if(this.alertsActivated&&window.alert(e),o==="error")throw new Error(e)}};S.alertsActivated=!1;var M="w--current";var T={dropdown:"w-dropdown",dropdownToggle:"w-dropdown-toggle",dropdownList:"w-dropdown-list"};var k=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(r=>t.dispatchEvent(new Event(r,{bubbles:!0}))).every(r=>r));var O=(t,e)=>!!t&&e.includes(t);var B="fs-attributes",P={preventLoad:{key:`${B}-preventload`},debugMode:{key:`${B}-debug`}};var H=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},U=t=>{let{preventLoad:e,debugMode:o}=P,r=typeof(t==null?void 0:t.getAttribute(e.key))=="string";return typeof(t==null?void 0:t.getAttribute(o.key))=="string"&&S.activateAlerts(),{preventsLoad:r}},L=t=>e=>`${t}${e?`-${e}`:""}`,q=t=>{let e=(r,s,n)=>{let c=t[r],{key:i,values:a}=c,m;if(!s)return`[${i}]`;let l=a==null?void 0:a[s];if(typeof l=="string"?m=l:m=l(n&&"instanceIndex"in n?n.instanceIndex:void 0),!(n==null?void 0:n.operator))return`[${i}="${m}"]`;switch(n.operator){case"prefixed":return`[${i}^="${m}"]`;case"suffixed":return`[${i}$="${m}"]`;case"contains":return`[${i}*="${m}"]`}};return[e,(r,s)=>{let n=e("element",r,s);return((s==null?void 0:s.scope)||document).querySelector(n)}]};var mt="https://cdn.jsdelivr.net/npm/@finsweet/attributes-animation@1/functions.js",pt="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js",E=()=>p(void 0,null,function*(){let{fsAttributes:t}=window;if(t.animationImport)return t.animationImport;try{let e=import(mt);return t.animationImport=e,e}catch(e){S.alert(`${e}`,"error");return}}),D=()=>p(void 0,null,function*(){let{fsAttributes:t}=window;t.cms||(t.cms={});let{cms:e}=t;if(e.coreImport)return e.coreImport;try{let o=import(pt);return e.coreImport=o,o.then(r=>{r&&(e.coreVersion||(e.coreVersion=r.version))}),o}catch(o){S.alert(`${o}`,"error");return}});var y="fs-cmssort",C={element:{key:`${y}-element`,values:{list:L("list"),trigger:L("trigger"),dropdownLabel:L("dropdown-label"),scrollAnchor:L("scroll-anchor")}},field:{key:`${y}-field`},type:{key:`${y}-type`,values:{date:"date"}},easing:{key:`${y}-easing`},duration:{key:`${y}-duration`},ascClass:{key:`${y}-asc`},descClass:{key:`${y}-desc`},reverse:{key:`${y}-reverse`,values:{true:"true"}}},[v,I]=q(C),W=`${y}_asc`,j=`${y}_desc`;var z=.1;var G=(r,s)=>p(void 0,[r,s],function*(t,{durationKey:e,easingKey:o}){let n=yield E();if(!n)return;let{animations:{fade:c},easings:i}=n,{listAnimation:a}=t,m=t.getAttribute(e),l=t.getAttribute(o);if(a&&!m&&!l)return;let d=O(l,i)?l:void 0,u=m?parseFloat(m)/2e3:z;if(!a){t.listAnimation=R(N({},c),{options:{easing:d,duration:u}});return}let{options:f}=a;if(!f){a.options={easing:d,duration:u};return}f.easing||(f.easing=d),m&&(f.duration=u)});var{field:{key:ut},type:{key:dt}}=C,X=(t,e,o)=>{t.on("shouldcollectprops",r=>p(void 0,null,function*(){for(let s of r)s.collectProps({fieldKey:ut,typeKey:dt})})),t.on("shouldsort",r=>p(void 0,null,function*(){e.push(...r),yield o(!0)}))};function w(t){return t==null?void 0:t.trim().toLowerCase()}var J=(t,e)=>{let{coreVersion:o}=window.fsAttributes.cms;if(!o)return!1;let r={numeric:!0,sensitivity:"base"},s=e.localeCompare(o,void 0,r);return s===0||(t===">="?s<0:s>0)};var A=(n,c)=>p(void 0,[n,c],function*(t,{originalItemsOrder:e,direction:o,sortKey:r,addingItems:s}){let{items:i,currentPage:a}=t;o&&r&&i.some(({props:l})=>r in l)?i.sort((l,d)=>{let u=l.props[r],f=d.props[r],[g]=(u==null?void 0:u.values)||[],[b]=(f==null?void 0:f.values)||[];if(!g)return 1;if(!b)return-1;let{type:x}=u;if(x==="date"){let $=new Date(g).getTime(),K=new Date(b).getTime();return o==="asc"?$-K:K-$}let _={numeric:!0,sensitivity:"base"};return o==="asc"?g.localeCompare(b,void 0,_):b.localeCompare(g,void 0,_)}):J(">=","1.4.0")?t.restoreItemsOrder():t.items=[...e],s||(a&&(t.currentPage=1),t.scrollToAnchor(),yield t.renderItems())});var Q=(t,e,o)=>p(void 0,null,function*(){let r=t.closest("form");r==null||r.addEventListener("submit",ft);let[s,n]=Y(t.value),c=!1,i=a=>p(void 0,null,function*(){yield A(e,{originalItemsOrder:o,direction:n,sortKey:s,addingItems:a})});return t.addEventListener("change",()=>p(void 0,null,function*(){c||(c=!0,[s,n]=Y(t.value),yield i(),c=!1)})),s&&(yield i()),i}),ft=t=>(t.preventDefault(),t.stopImmediatePropagation(),!1),Y=t=>{let e,o;return t.endsWith("-asc")?(o="asc",e=t.slice(0,-4)):t.endsWith("-desc")?(o="desc",e=t.slice(0,-5)):(o="asc",e=t),e=w(e),[e,o]};var{dropdownToggle:St,dropdownList:gt}=T,Z=(t,e,o)=>{let r=t.querySelector(`.${St}`),s=t.querySelector(`.${gt}`);if(!r||!s){S.alert("The cmssort Dropdown is missing a toggle or a list.","error");return}bt(r,s);let n=Ct(r),c=yt(s);if(!c){S.alert("The cmssort Dropdown doesn't have any option.","error");return}let i=!1,a,m,l=d=>p(void 0,null,function*(){yield A(e,{originalItemsOrder:o,direction:m,sortKey:a,addingItems:d})});return s.addEventListener("click",d=>p(void 0,null,function*(){if(d.preventDefault(),i)return;i=!0;let{target:u}=d;if(!(u instanceof Element)){i=!1;return}let f=u.closest("a");if(!f){i=!1;return}let g=c.find(({element:x})=>x===f);if(!g||g.selected){i=!1;return}let b=c.find(({selected:x})=>x);b&&(b.selected=!1),g.selected=!0,{sortKey:a,direction:m}=g,wt(c),n==null||n.updateContent(g),At(r),yield l(),i=!1})),l},yt=t=>{let e=[],o=t.querySelectorAll("a");if(!!o.length){for(let r of o){r.setAttribute("role","option");let s=r.getAttribute(C.field.key),n,c;s&&(s.endsWith("-asc")?(c="asc",n=s.slice(0,-4)):s.endsWith("-desc")?(c="desc",n=s.slice(0,-5)):(c="asc",n=s)),n&&(n=w(n)),e.push({element:r,sortKey:n,direction:c,selected:!1})}return e}},Ct=t=>{let e=I("dropdownLabel",{operator:"prefixed",scope:t});if(!e)return;let o=e.innerHTML;return{element:e,originalHTML:o,updateContent:({element:s,sortKey:n})=>{e.innerHTML=n?s.innerHTML:o}}},bt=(t,e)=>{t.setAttribute("aria-haspopup","listbox"),e.setAttribute("role","listbox"),e.setAttribute("aria-multiselectable","false")},wt=t=>{for(let{element:e,selected:o}of t){if(o){e.setAttribute("aria-selected","true"),e.classList.add(M);continue}e.removeAttribute("aria-selected"),e.classList.remove(M)}},At=t=>{k(t,"mouseup"),t.focus()};var{ascClass:{key:xt},descClass:{key:Lt},reverse:{key:Tt,values:Et}}=C,tt=(t,e,o,r)=>{let s=new Map,n=!1,c,i,a,m=l=>p(void 0,null,function*(){yield A(e,{originalItemsOrder:o,sortKey:a,direction:i,addingItems:l})});for(let l of t)Dt(l,s,r),l.addEventListener("click",d=>p(void 0,null,function*(){if(d.preventDefault(),n)return;n=!0;let u=s.get(l);if(!u){n=!1;return}a=u.sortKey,i=vt(u.direction,u.reverse),c&&l!==c&&rt(c,void 0,s),c=l,rt(l,i,s),yield m(),n=!1}));return m},Dt=(t,e,o)=>{let r=t.getAttribute(C.field.key);if(!r)return;let s=w(r),n=t.getAttribute(Tt)===Et.true,c=t.getAttribute(xt),i=t.getAttribute(Lt),a={sortKey:s,reverse:n,cssClasses:{asc:c||o.asc,desc:i||o.desc}};t.setAttribute("role","columnheader"),t.setAttribute("tabindex","0"),ot(t),e.set(t,a),et(t,a)},et=(...[t,{cssClasses:e}])=>{for(let o of Object.values(e))t.classList.remove(o)},ot=(t,e)=>{t.setAttribute("aria-sort",e?e==="asc"?"ascending":"descending":"none")},rt=(t,e,o)=>{let r=o.get(t);if(!r)return;let{cssClasses:s}=r;et(t,r),e&&t.classList.add(s[e]),ot(t,e),r.direction=e},vt=(t,e)=>t?t==="desc"?"asc":"desc":e?"desc":"asc";var{element:{key:It},field:{key:Mt},type:{key:kt},duration:{key:Ot},easing:{key:ht},ascClass:{key:_t},descClass:{key:$t}}=C,st=t=>p(void 0,null,function*(){let e=t.getInstanceIndex(It),o=document.querySelectorAll(v("element","trigger",{instanceIndex:e}));if(!o.length)return;let{items:r}=t;for(let l of r)l.collectProps({fieldKey:Mt,typeKey:kt});if(G(t,{durationKey:Ot,easingKey:ht}),!t.scrollAnchor){let l=I("scrollAnchor",{instanceIndex:e});l&&(t.scrollAnchor=l)}let s={asc:t.getAttribute(_t)||W,desc:t.getAttribute($t)||j},n=[...r],[c]=o,i=c instanceof HTMLSelectElement,a=c.closest(`.${T.dropdown}`),m=i?yield Q(c,t,n):a?Z(a,t,n):tt(o,t,n,s);!m||X(t,n,m)});var h=()=>p(void 0,null,function*(){let t=yield D();if(!t)return[];let e=t.createCMSListInstances([v("element","list",{operator:"prefixed"})]);return yield Promise.all(e.map(st)),e});H();var{currentScript:Kt}=document,{preventsLoad:Ft}=U(Kt);D();E();Ft?window.fsAttributes.cmssort={init:h}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(h));})();
