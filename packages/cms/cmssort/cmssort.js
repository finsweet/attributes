(()=>{var rt=Object.defineProperty,st=Object.defineProperties;var nt=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var it=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var F=(t,e,o)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,V=(t,e)=>{for(var o in e||(e={}))it.call(e,o)&&F(t,o,e[o]);if(K)for(var o of K(e))at.call(e,o)&&F(t,o,e[o]);return t},N=(t,e)=>st(t,nt(e));var m=(t,e,o)=>new Promise((r,s)=>{var i=n=>{try{c(o.next(n))}catch(p){s(p)}},a=n=>{try{c(o.throw(n))}catch(p){s(p)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(i,a);c((o=o.apply(t,e)).next())});var S=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,o){if(this.alertsActivated&&window.alert(e),o==="error")throw new Error(e)}};S.alertsActivated=!1;var I="w--current";var D={dropdown:"w-dropdown",dropdownToggle:"w-dropdown-toggle",dropdownList:"w-dropdown-list"};var M=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(r=>t.dispatchEvent(new Event(r,{bubbles:!0}))).every(r=>r));var k=(t,e)=>!!t&&e.includes(t);var R="fs-attributes",B={preventLoad:{key:`${R}-preventload`},debugMode:{key:`${R}-debug`}};var P=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},H=t=>{let{preventLoad:e,debugMode:o}=B,r=typeof(t==null?void 0:t.getAttribute(e.key))=="string";return typeof(t==null?void 0:t.getAttribute(o.key))=="string"&&S.activateAlerts(),{preventsLoad:r}},T=t=>e=>`${t}${e?`-${e}`:""}`,U=t=>(o,r,s)=>{let i=t[o],{key:a,values:c}=i,n;if(!r)return`[${a}]`;let p=c==null?void 0:c[r];if(typeof p=="string"?n=p:n=p(s&&"instanceIndex"in s?s.instanceIndex:void 0),!(s==null?void 0:s.operator))return`[${a}="${n}"]`;switch(s.operator){case"prefixed":return`[${a}^="${n}"]`;case"suffixed":return`[${a}$="${n}"]`;case"contains":return`[${a}*="${n}"]`}};var ct="https://cdn.jsdelivr.net/npm/@finsweet/attributes-animation@1/functions.js",lt="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js",v=()=>m(void 0,null,function*(){let{fsAttributes:t}=window;if(t.animationImport)return t.animationImport;try{let e=import(ct);return t.animationImport=e,e}catch(e){S.alert(`${e}`,"error");return}}),E=()=>m(void 0,null,function*(){let{fsAttributes:t}=window;t.cms||(t.cms={});let{cms:e}=t;if(e.coreImport)return e.coreImport;try{let o=import(lt);return e.coreImport=o,o.then(r=>{r&&(e.coreVersion||(e.coreVersion=r.version))}),o}catch(o){S.alert(`${o}`,"error");return}});var y="fs-cmssort",C={element:{key:`${y}-element`,values:{list:T("list"),trigger:T("trigger"),dropdownLabel:T("dropdown-label"),scrollAnchor:T("scroll-anchor")}},field:{key:`${y}-field`},type:{key:`${y}-type`,values:{date:"date"}},easing:{key:`${y}-easing`},duration:{key:`${y}-duration`},ascClass:{key:`${y}-asc`},descClass:{key:`${y}-desc`},reverse:{key:`${y}-reverse`,values:{true:"true"}}},w=U(C),W=`${y}_asc`,j=`${y}_desc`;var q=.1;var z=(r,s)=>m(void 0,[r,s],function*(t,{durationKey:e,easingKey:o}){let i=yield v();if(!i)return;let{animations:{fade:a},easings:c}=i,{listAnimation:n}=t,p=t.getAttribute(e),l=t.getAttribute(o);if(n&&!p&&!l)return;let d=k(l,c)?l:void 0,u=p?parseFloat(p)/2e3:q;if(!n){t.listAnimation=N(V({},a),{options:{easing:d,duration:u}});return}let{options:f}=n;if(!f){n.options={easing:d,duration:u};return}f.easing||(f.easing=d),p&&(f.duration=u)});var{field:{key:mt},type:{key:pt}}=C,G=(t,e,o)=>{t.on("shouldcollectprops",r=>m(void 0,null,function*(){for(let s of r)s.collectProps({fieldKey:mt,typeKey:pt})})),t.on("shouldsort",r=>m(void 0,null,function*(){e.push(...r),yield o(!0)}))};function A(t){return t==null?void 0:t.trim().toLowerCase()}var X=(t,e)=>{let{coreVersion:o}=window.fsAttributes.cms;if(!o)return!1;let r={numeric:!0,sensitivity:"base"},s=e.localeCompare(o,void 0,r);return s===0||(t===">="?s<0:s>0)};var x=(i,a)=>m(void 0,[i,a],function*(t,{originalItemsOrder:e,direction:o,sortKey:r,addingItems:s}){let{items:c,currentPage:n}=t;o&&r&&c.some(({props:l})=>r in l)?c.sort((l,d)=>{let u=l.props[r],f=d.props[r],[g]=(u==null?void 0:u.values)||[],[b]=(f==null?void 0:f.values)||[];if(!g)return 1;if(!b)return-1;let{type:L}=u;if(L==="date"){let _=new Date(g).getTime(),$=new Date(b).getTime();return o==="asc"?_-$:$-_}let h={numeric:!0,sensitivity:"base"};return o==="asc"?g.localeCompare(b,void 0,h):b.localeCompare(g,void 0,h)}):X(">=","1.4.0")?t.restoreItemsOrder():t.items=[...e],s||(n&&(t.currentPage=1),t.scrollToAnchor(),yield t.renderItems())});var J=(t,e,o)=>m(void 0,null,function*(){let r=t.closest("form");r==null||r.addEventListener("submit",ut);let s=!1,i=t.value,a,c=n=>m(void 0,null,function*(){yield x(e,{originalItemsOrder:o,direction:a,sortKey:i,addingItems:n})});return t.addEventListener("change",()=>m(void 0,null,function*(){if(s)return;s=!0;let{value:n}=t;n.endsWith("-asc")?(a="asc",i=n.slice(0,-4)):n.endsWith("-desc")?(a="desc",i=n.slice(0,-5)):(a="asc",i=n),i=A(i),yield c(),s=!1})),i&&(yield c()),c}),ut=t=>(t.preventDefault(),t.stopImmediatePropagation(),!1);var{dropdownToggle:dt,dropdownList:ft}=D,Q=(t,e,o)=>{let r=t.querySelector(`.${dt}`),s=t.querySelector(`.${ft}`);if(!r||!s){S.alert("The cmssort Dropdown is missing a toggle or a list.","error");return}yt(r,s);let i=gt(r),a=St(s);if(!a){S.alert("The cmssort Dropdown doesn't have any option.","error");return}let c=!1,n,p,l=d=>m(void 0,null,function*(){yield x(e,{originalItemsOrder:o,direction:p,sortKey:n,addingItems:d})});return s.addEventListener("click",d=>m(void 0,null,function*(){if(d.preventDefault(),c)return;c=!0;let{target:u}=d;if(!(u instanceof Element)){c=!1;return}let f=u.closest("a");if(!f){c=!1;return}let g=a.find(({element:L})=>L===f);if(!g||g.selected){c=!1;return}let b=a.find(({selected:L})=>L);b&&(b.selected=!1),g.selected=!0,{sortKey:n,direction:p}=g,Ct(a),i==null||i.updateContent(g),bt(r),yield l(),c=!1})),l},St=t=>{let e=[],o=t.querySelectorAll("a");if(!!o.length){for(let r of o){r.setAttribute("role","option");let s=r.getAttribute(C.field.key),i,a;s&&(s.endsWith("-asc")?(a="asc",i=s.slice(0,-4)):s.endsWith("-desc")?(a="desc",i=s.slice(0,-5)):(a="asc",i=s)),i&&(i=A(i)),e.push({element:r,sortKey:i,direction:a,selected:!1})}return e}},gt=t=>{let e=t.querySelector(w("element","dropdownLabel",{operator:"prefixed"}));if(!e)return;let o=e.innerHTML;return{element:e,originalHTML:o,updateContent:({element:s,sortKey:i})=>{e.innerHTML=i?s.innerHTML:o}}},yt=(t,e)=>{t.setAttribute("aria-haspopup","listbox"),e.setAttribute("role","listbox"),e.setAttribute("aria-multiselectable","false")},Ct=t=>{for(let{element:e,selected:o}of t){if(o){e.setAttribute("aria-selected","true"),e.classList.add(I);continue}e.removeAttribute("aria-selected"),e.classList.remove(I)}},bt=t=>{M(t,"mouseup"),t.focus()};var{ascClass:{key:wt},descClass:{key:At},reverse:{key:xt,values:Lt}}=C,Y=(t,e,o,r)=>{let s=new Map,i=!1,a,c,n,p=l=>m(void 0,null,function*(){yield x(e,{originalItemsOrder:o,sortKey:n,direction:c,addingItems:l})});for(let l of t)Tt(l,s,r),l.addEventListener("click",d=>m(void 0,null,function*(){if(d.preventDefault(),i)return;i=!0;let u=s.get(l);if(!u){i=!1;return}n=u.sortKey,c=Dt(u.direction,u.reverse),a&&l!==a&&et(a,void 0,s),a=l,et(l,c,s),yield p(),i=!1}));return p},Tt=(t,e,o)=>{let r=t.getAttribute(C.field.key);if(!r)return;let s=A(r),i=t.getAttribute(xt)===Lt.true,a=t.getAttribute(wt),c=t.getAttribute(At),n={sortKey:s,reverse:i,cssClasses:{asc:a||o.asc,desc:c||o.desc}};t.setAttribute("role","columnheader"),t.setAttribute("tabindex","0"),tt(t),e.set(t,n),Z(t,n)},Z=(...[t,{cssClasses:e}])=>{for(let o of Object.values(e))t.classList.remove(o)},tt=(t,e)=>{t.setAttribute("aria-sort",e?e==="asc"?"ascending":"descending":"none")},et=(t,e,o)=>{let r=o.get(t);if(!r)return;let{cssClasses:s}=r;Z(t,r),e&&t.classList.add(s[e]),tt(t,e),r.direction=e},Dt=(t,e)=>t?t==="desc"?"asc":"desc":e?"desc":"asc";var{element:{key:vt},field:{key:Et},type:{key:It},duration:{key:Mt},easing:{key:kt},ascClass:{key:Ot},descClass:{key:ht}}=C,ot=t=>m(void 0,null,function*(){let e=t.getInstanceIndex(vt),o=document.querySelectorAll(w("element","trigger",{instanceIndex:e}));if(!o.length)return;let{items:r}=t;for(let l of r)l.collectProps({fieldKey:Et,typeKey:It});if(z(t,{durationKey:Mt,easingKey:kt}),!t.scrollAnchor){let l=document.querySelector(w("element","scrollAnchor",{instanceIndex:e}));l&&(t.scrollAnchor=l)}let s={asc:t.getAttribute(Ot)||W,desc:t.getAttribute(ht)||j},i=[...r],[a]=o,c=a instanceof HTMLSelectElement,n=a.closest(`.${D.dropdown}`),p=c?yield J(a,t,i):n?Q(n,t,i):Y(o,t,i,s);!p||G(t,i,p)});var O=()=>m(void 0,null,function*(){let t=yield E();if(!t)return[];let e=t.createCMSListInstances([w("element","list",{operator:"prefixed"})]);return yield Promise.all(e.map(ot)),e});P();var{currentScript:_t}=document,{preventsLoad:$t}=H(_t);E();v();$t?window.fsAttributes.cmssort={init:O}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(O));})();
