(()=>{var et=Object.defineProperty,ot=Object.defineProperties;var rt=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var F=(t,e,o)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,N=(t,e)=>{for(var o in e||(e={}))st.call(e,o)&&F(t,o,e[o]);if(K)for(var o of K(e))nt.call(e,o)&&F(t,o,e[o]);return t},R=(t,e)=>ot(t,rt(e));var l=(t,e,o)=>new Promise((r,s)=>{var c=i=>{try{a(o.next(i))}catch(m){s(m)}},n=i=>{try{a(o.throw(i))}catch(m){s(m)}},a=i=>i.done?r(i.value):Promise.resolve(i.value).then(c,n);a((o=o.apply(t,e)).next())});var f=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,o){if(this.alertsActivated&&window.alert(e),o==="error")throw new Error(e)}};f.alertsActivated=!1;var E="w--current";var T={dropdown:"w-dropdown",dropdownToggle:"w-dropdown-toggle",dropdownList:"w-dropdown-list"};var M=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(r=>t.dispatchEvent(new Event(r,{bubbles:!0}))).every(r=>r));var I=(t,e)=>!!t&&e.includes(t);var k="fs-attributes",V={preventLoad:{key:`${k}-preventload`},matchMedia:{key:`${k}-matchmedia`},debugMode:{key:`${k}-debug`}};var{preventLoad:{key:it},debugMode:{key:at},matchMedia:{key:ct}}=V,B=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},U=t=>{if(!t)return{};let e=typeof(t==null?void 0:t.getAttribute(it))=="string";typeof(t==null?void 0:t.getAttribute(at))=="string"&&f.activateAlerts();let o=t==null?void 0:t.getAttribute(ct);return{preventsLoad:e,matchMedia:o}};var L=t=>e=>`${t}${e?`-${e}`:""}`,P=t=>(o,r,s)=>{let c=t[o],{key:n,values:a}=c,i;if(!r)return`[${n}]`;let m=a==null?void 0:a[r];if(typeof m=="string"?i=m:i=m(s&&"instanceIndex"in s?s.instanceIndex:void 0),!(s==null?void 0:s.operator))return`[${n}="${i}"]`;switch(s.operator){case"prefixed":return`[${n}^="${i}"]`;case"suffixed":return`[${n}$="${i}"]`;case"contains":return`[${n}*="${i}"]`}};var lt="https://cdn.jsdelivr.net/npm/@finsweet/attributes-animation@1/functions.js",mt="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1.1.2/cmscore.js",D=()=>l(void 0,null,function*(){let{fsAttributes:t}=window;if(t.animationImport)return t.animationImport;try{let e=import(lt);return t.animationImport=e,e}catch(e){f.alert(`${e}`,"error");return}}),v=()=>l(void 0,null,function*(){let{fsAttributes:t}=window;if(t.cms||(t.cms={}),t.cms.coreImport)return t.cms.coreImport;try{let e=import(mt);return t.cms.coreImport=e,e}catch(e){f.alert(`${e}`,"error");return}});var y="fs-cmssort",g={element:{key:`${y}-element`,values:{list:L("list"),trigger:L("trigger"),dropdownLabel:L("dropdown-label"),scrollAnchor:L("scroll-anchor")}},field:{key:`${y}-field`},type:{key:`${y}-type`,values:{date:"date"}},easing:{key:`${y}-easing`},duration:{key:`${y}-duration`},ascClass:{key:`${y}-asc`},descClass:{key:`${y}-desc`},reverse:{key:`${y}-reverse`,values:{true:"true"}}},b=P(g),H=`${y}_asc`,W=`${y}_desc`;var j=.1;var q=(r,s)=>l(void 0,[r,s],function*(t,{durationKey:e,easingKey:o}){let c=yield D();if(!c)return;let{animations:{fade:n},easings:a}=c,i=t.getAttribute(e),m=t.getAttribute(o);t.listAnimation=R(N({},n),{options:{easing:I(m,a)?m:void 0,duration:i?parseFloat(i)/200:j}})});var{field:{key:pt},type:{key:dt}}=g,G=(t,e,o)=>{t.on("shouldcollectprops",r=>l(void 0,null,function*(){for(let s of r)s.collectProps({fieldKey:pt,typeKey:dt})})),t.on("shouldsort",r=>l(void 0,null,function*(){e.push(...r),yield o(!0)}))};var A=(c,n)=>l(void 0,[c,n],function*(t,{originalItemsOrder:e,direction:o,sortKey:r,addingItems:s}){let{items:a,currentPage:i}=t;o&&r&&a.some(({props:p})=>r in p)?a.sort((p,d)=>{let u=p.props[r],C=d.props[r],[S]=(u==null?void 0:u.values)||[],[w]=(C==null?void 0:C.values)||[];if(!S)return 0;if(!w)return 1;let{type:x}=u;if(x==="date"){let _=new Date(S).getTime(),$=new Date(w).getTime();return o==="asc"?_-$:$-_}let O={numeric:!0,sensitivity:"base"};return o==="asc"?S.localeCompare(w,void 0,O):w.localeCompare(S,void 0,O)}):t.items=[...e],s||(i&&(t.currentPage=1),t.scrollToAnchor(),yield t.renderItems())});var z=(t,e,o)=>l(void 0,null,function*(){let r=t.closest("form");r==null||r.addEventListener("submit",ut);let s=!1,c=t.value,n,a=i=>l(void 0,null,function*(){yield A(e,{originalItemsOrder:o,direction:n,sortKey:c,addingItems:i})});return t.addEventListener("change",()=>l(void 0,null,function*(){if(s)return;s=!0;let{value:i}=t;i.endsWith("-asc")?(n="asc",c=i.slice(0,-4)):i.endsWith("-desc")?(n="desc",c=i.slice(0,-5)):(n="asc",c=i),yield a(),s=!1})),c&&(yield a()),a}),ut=t=>(t.preventDefault(),t.stopImmediatePropagation(),!1);var{dropdownToggle:ft,dropdownList:St}=T,X=(t,e,o)=>{let r=t.querySelector(`.${ft}`),s=t.querySelector(`.${St}`);if(!r||!s){f.alert("The cmssort Dropdown is missing a toggle or a list.","error");return}wt(r,s);let c=gt(r),n=yt(s);if(!n){f.alert("The cmssort Dropdown doesn't have any option.","error");return}let a=!1,i,m,p=d=>l(void 0,null,function*(){yield A(e,{originalItemsOrder:o,direction:m,sortKey:i,addingItems:d})});return s.addEventListener("click",d=>l(void 0,null,function*(){if(d.preventDefault(),a)return;a=!0;let{target:u}=d;if(!(u instanceof Element)){a=!1;return}let C=u.closest("a");if(!C){a=!1;return}let S=n.find(({element:x})=>x===C);if(!S||S.selected){a=!1;return}let w=n.find(({selected:x})=>x);w&&(w.selected=!1),S.selected=!0,{sortKey:i,direction:m}=S,bt(n),c==null||c.updateContent(S),Ct(r),yield p(),a=!1})),p},yt=t=>{let e=[],o=t.querySelectorAll("a");if(!!o.length){for(let r of o){r.setAttribute("role","option");let s=r.getAttribute(g.field.key),c,n;s&&(s.endsWith("-asc")?(n="asc",c=s.slice(0,-4)):s.endsWith("-desc")?(n="desc",c=s.slice(0,-5)):(n="asc",c=s)),e.push({element:r,sortKey:c,direction:n,selected:!1})}return e}},gt=t=>{let e=t.querySelector(b("element","dropdownLabel",{operator:"prefixed"}));if(!e)return;let o=e.innerHTML;return{element:e,originalHTML:o,updateContent:({element:s,sortKey:c})=>{e.innerHTML=c?s.innerHTML:o}}},wt=(t,e)=>{t.setAttribute("aria-haspopup","listbox"),e.setAttribute("role","listbox"),e.setAttribute("aria-multiselectable","false")},bt=t=>{for(let{element:e,selected:o}of t){if(o){e.setAttribute("aria-selected","true"),e.classList.add(E);continue}e.removeAttribute("aria-selected"),e.classList.remove(E)}},Ct=t=>{M(t,"mouseup"),t.focus()};var{ascClass:{key:At},descClass:{key:xt},reverse:{key:Lt,values:Tt}}=g,J=(t,e,o,r)=>{let s=new Map,c=!1,n,a,i,m=p=>l(void 0,null,function*(){yield A(e,{originalItemsOrder:o,sortKey:i,direction:a,addingItems:p})});for(let p of t)Dt(p,s,r),p.addEventListener("click",d=>l(void 0,null,function*(){if(d.preventDefault(),c)return;c=!0;let u=s.get(p);if(!u){c=!1;return}i=u.sortKey,a=vt(u.direction,u.reverse),n&&p!==n&&Z(n,void 0,s),n=p,Z(p,a,s),yield m(),c=!1}));return m},Dt=(t,e,o)=>{let r=t.getAttribute(g.field.key);if(!r)return;let s=t.getAttribute(Lt)===Tt.true,c=t.getAttribute(At),n=t.getAttribute(xt),a={sortKey:r,reverse:s,cssClasses:{asc:c||o.asc,desc:n||o.desc}};t.setAttribute("role","columnheader"),t.setAttribute("tabindex","0"),Y(t),e.set(t,a),Q(t,a)},Q=(...[t,{cssClasses:e}])=>{for(let o of Object.values(e))t.classList.remove(o)},Y=(t,e)=>{t.setAttribute("aria-sort",e?e==="asc"?"ascending":"descending":"none")},Z=(t,e,o)=>{let r=o.get(t);if(!r)return;let{cssClasses:s}=r;Q(t,r),e&&t.classList.add(s[e]),Y(t,e),r.direction=e},vt=(t,e)=>t?t==="desc"?"asc":"desc":e?"desc":"asc";var{element:{key:Et},field:{key:Mt},type:{key:It},duration:{key:kt},easing:{key:ht},ascClass:{key:Ot},descClass:{key:_t}}=g,tt=t=>l(void 0,null,function*(){let e=t.getInstanceIndex(Et),o=document.querySelectorAll(b("element","trigger",{instanceIndex:e}));if(!o.length)return;let{items:r,listAnimation:s}=t;for(let d of r)d.collectProps({fieldKey:Mt,typeKey:It});if(s||q(t,{durationKey:kt,easingKey:ht}),!t.scrollAnchor){let d=document.querySelector(b("element","scrollAnchor",{instanceIndex:e}));d&&(t.scrollAnchor=d)}let c={asc:t.getAttribute(Ot)||H,desc:t.getAttribute(_t)||W},n=[...r],[a]=o,i=a instanceof HTMLSelectElement,m=a.closest(`.${T.dropdown}`),p=i?yield z(a,t,n):m?X(m,t,n):J(o,t,n,c);!p||G(t,n,p)});var h=()=>l(void 0,null,function*(){let t=yield v();if(!t)return[];let e=t.createCMSListInstances([b("element","list",{operator:"prefixed"})]);return yield Promise.all(e.map(tt)),e});B();var{currentScript:$t}=document,{preventsLoad:Kt}=U($t);v();D();Kt?window.fsAttributes.cmssort={init:h}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(h));})();
