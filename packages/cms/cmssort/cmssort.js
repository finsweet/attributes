(()=>{var tt=Object.defineProperty,et=Object.defineProperties;var ot=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var rt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var h=(t,e,o)=>e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,F=(t,e)=>{for(var o in e||(e={}))rt.call(e,o)&&h(t,o,e[o]);if($)for(var o of $(e))st.call(e,o)&&h(t,o,e[o]);return t},K=(t,e)=>et(t,ot(e));var m=(t,e,o)=>new Promise((r,s)=>{var c=n=>{try{a(o.next(n))}catch(l){s(l)}},i=n=>{try{a(o.throw(n))}catch(l){s(l)}},a=n=>n.done?r(n.value):Promise.resolve(n.value).then(c,i);a((o=o.apply(t,e)).next())});var u=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,o){if(this.alertsActivated&&window.alert(e),o==="error")throw new Error(e)}};u.alertsActivated=!1;var I="w--current";var L={dropdown:"w-dropdown",dropdownToggle:"w-dropdown-toggle",dropdownList:"w-dropdown-list"};var v=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(r=>t.dispatchEvent(new Event(r,{bubbles:!0}))).every(r=>r));var M=(t,e)=>!!t&&e.includes(t);var N="fs-attributes",R={preventLoad:{key:`${N}-preventload`},debugMode:{key:`${N}-debug`}};var V=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},B=t=>{let{preventLoad:e,debugMode:o}=R,r=typeof(t==null?void 0:t.getAttribute(e.key))=="string";return typeof(t==null?void 0:t.getAttribute(o.key))=="string"&&u.activateAlerts(),{preventsLoad:r}},T=t=>e=>`${t}${e?`-${e}`:""}`,U=t=>(o,r,s)=>{let c=t[o],{key:i,values:a}=c,n;if(!r)return`[${i}]`;let l=a==null?void 0:a[r];if(typeof l=="string"?n=l:n=l(s&&"instanceIndex"in s?s.instanceIndex:void 0),!(s==null?void 0:s.operator))return`[${i}="${n}"]`;switch(s.operator){case"prefixed":return`[${i}^="${n}"]`;case"suffixed":return`[${i}$="${n}"]`;case"contains":return`[${i}*="${n}"]`}};var nt="https://cdn.jsdelivr.net/npm/@finsweet/attributes-animation@1/functions.js",it="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1.1.0/cmscore.js",D=()=>m(void 0,null,function*(){let{fsAttributes:t}=window;if(t.animationImport)return t.animationImport;try{let e=import(nt);return t.animationImport=e,e}catch(e){u.alert(`${e}`,"error");return}}),E=()=>m(void 0,null,function*(){let{fsAttributes:t}=window;if(t.cms||(t.cms={}),t.cms.coreImport)return t.cms.coreImport;try{let e=import(it);return t.cms.coreImport=e,e}catch(e){u.alert(`${e}`,"error");return}});var g="fs-cmssort",y={element:{key:`${g}-element`,values:{list:T("list"),trigger:T("trigger"),dropdownLabel:T("dropdown-label")}},field:{key:`${g}-field`},type:{key:`${g}-type`,values:{date:"date"}},easing:{key:`${g}-easing`},duration:{key:`${g}-duration`},ascClass:{key:`${g}-asc`},descClass:{key:`${g}-desc`}},C=U(y),H=`${g}_asc`,P=`${g}_desc`;var W=.1;var j=(r,s)=>m(void 0,[r,s],function*(t,{durationKey:e,easingKey:o}){let c=yield D();if(!c)return;let{animations:{fade:i},easings:a}=c,n=t.getAttribute(e),l=t.getAttribute(o);t.listAnimation=K(F({},i),{options:{easing:M(l,a)?l:void 0,duration:n?parseFloat(n)/200:W}})});var{field:{key:at},type:{key:ct}}=y,q=(t,e,o)=>{t.on("shouldcollectprops",r=>m(void 0,null,function*(){for(let s of r)s.collectProps({fieldKey:at,typeKey:ct})})),t.on("shouldsort",r=>m(void 0,null,function*(){e.push(...r),yield o(!0)}))};var A=(c,i)=>m(void 0,[c,i],function*(t,{originalItemsOrder:e,direction:o,sortKey:r,addingItems:s}){let{items:a,currentPage:n}=t;o&&r&&a.some(({props:p})=>r in p)?a.sort((p,f)=>{let d=p.props[r],w=f.props[r],[S]=(d==null?void 0:d.values)||[],[b]=(w==null?void 0:w.values)||[];if(!S)return 0;if(!b)return 1;let{type:x}=d;if(x==="date"){let O=new Date(S).getTime(),_=new Date(b).getTime();return o==="asc"?O-_:_-O}return o==="asc"?S.localeCompare(b):b.localeCompare(S)}):t.items=[...e],s||(n&&(t.currentPage=1),yield t.renderItems())});var G=(t,e,o)=>m(void 0,null,function*(){let r=t.closest("form");r==null||r.addEventListener("submit",mt);let s=!1,c=t.value,i,a=n=>m(void 0,null,function*(){yield A(e,{originalItemsOrder:o,direction:i,sortKey:c,addingItems:n})});return t.addEventListener("change",()=>m(void 0,null,function*(){if(s)return;s=!0;let{value:n}=t;n.endsWith("-asc")?(i="asc",c=n.slice(0,-4)):n.endsWith("-desc")?(i="desc",c=n.slice(0,-5)):(i="asc",c=n),yield a(),s=!1})),c&&(yield a()),a}),mt=t=>(t.preventDefault(),t.stopImmediatePropagation(),!1);var{dropdownToggle:lt,dropdownList:pt}=L,X=(t,e,o)=>{let r=t.querySelector(`.${lt}`),s=t.querySelector(`.${pt}`);if(!r||!s){u.alert("The cmssort Dropdown is missing a toggle or a list.","error");return}ft(r,s);let c=ut(r),i=dt(s);if(!i){u.alert("The cmssort Dropdown doesn't have any option.","error");return}let a=!1,n,l,p=f=>m(void 0,null,function*(){yield A(e,{originalItemsOrder:o,direction:l,sortKey:n,addingItems:f})});return s.addEventListener("click",f=>m(void 0,null,function*(){if(f.preventDefault(),a)return;a=!0;let{target:d}=f;if(!(d instanceof Element)){a=!1;return}let w=d.closest("a");if(!w){a=!1;return}let S=i.find(({element:x})=>x===w);if(!S||S.selected){a=!1;return}let b=i.find(({selected:x})=>x);b&&(b.selected=!1),S.selected=!0,{sortKey:n,direction:l}=S,St(i),c==null||c.updateContent(S),gt(r),yield p(),a=!1})),p},dt=t=>{let e=[],o=t.querySelectorAll("a");if(!!o.length){for(let r of o){r.setAttribute("role","option");let s=r.getAttribute(y.field.key),c,i;s&&(s.endsWith("-asc")?(i="asc",c=s.slice(0,-4)):s.endsWith("-desc")?(i="desc",c=s.slice(0,-5)):(i="asc",c=s)),e.push({element:r,sortKey:c,direction:i,selected:!1})}return e}},ut=t=>{let e=t.querySelector(C("element","dropdownLabel",{operator:"prefixed"}));if(!e)return;let o=e.innerHTML;return{element:e,originalHTML:o,updateContent:({element:s,sortKey:c})=>{e.innerHTML=c?s.innerHTML:o}}},ft=(t,e)=>{t.setAttribute("aria-haspopup","listbox"),e.setAttribute("role","listbox"),e.setAttribute("aria-multiselectable","false")},St=t=>{for(let{element:e,selected:o}of t){if(o){e.setAttribute("aria-selected","true"),e.classList.add(I);continue}e.removeAttribute("aria-selected"),e.classList.remove(I)}},gt=t=>{v(t,"mouseup"),t.focus()};var J=(t,e,o,r)=>{let s=new Map,c=!1,i,a,n,l=p=>m(void 0,null,function*(){yield A(e,{originalItemsOrder:o,sortKey:n,direction:a,addingItems:p})});for(let p of t)yt(p,s,r),p.addEventListener("click",f=>m(void 0,null,function*(){if(f.preventDefault(),c)return;c=!0;let d=s.get(p);if(!d){c=!1;return}n=d.sortKey,a=bt(d.direction),i&&p!==i&&Y(i,void 0,s,r),i=p,Y(p,a,s,r),yield l(),c=!1}));return l},yt=(t,e,o)=>{let r=t.getAttribute(y.field.key);!r||(z(t,o),t.setAttribute("role","columnheader"),t.setAttribute("tabindex","0"),Q(t),e.set(t,{sortKey:r}))},z=(t,e)=>{for(let o of Object.values(e))t.classList.remove(o)},Q=(t,e)=>{t.setAttribute("aria-sort",e?e==="asc"?"ascending":"descending":"none")},Y=(t,e,o,r)=>{let s=o.get(t);!s||(z(t,r),e&&t.classList.add(r[e]),Q(t,e),s.direction=e)},bt=t=>(!t||t)==="desc"?"asc":"desc";var{element:{key:wt},field:{key:Ct},type:{key:At},duration:{key:xt},easing:{key:Lt},ascClass:{key:Tt},descClass:{key:Dt}}=y,Z=t=>m(void 0,null,function*(){let e=t.getInstanceIndex(wt),o=document.querySelectorAll(C("element","trigger",{instanceIndex:e}));if(!o.length)return;let{items:r,listAnimation:s}=t;for(let f of r)f.collectProps({fieldKey:Ct,typeKey:At});s||j(t,{durationKey:xt,easingKey:Lt});let c={asc:t.getAttribute(Tt)||H,desc:t.getAttribute(Dt)||P},i=[...r],[a]=o,n=a instanceof HTMLSelectElement,l=a.closest(`.${L.dropdown}`),p=n?yield G(a,t,i):l?X(l,t,i):J(o,t,i,c);!p||q(t,i,p)});var k=()=>m(void 0,null,function*(){let t=yield E();if(!t)return[];let e=t.createCMSListInstances([C("element","list",{operator:"prefixed"})]);return yield Promise.all(e.map(Z)),e});V();var{currentScript:Et}=document,{preventsLoad:It}=B(Et);E();D();It?window.fsAttributes.cmssort={init:k}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(k));})();
