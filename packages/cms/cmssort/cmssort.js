(()=>{var z=Object.defineProperty,Q=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var D=(t,e,r)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K=(t,e)=>{for(var r in e||(e={}))Z.call(e,r)&&D(t,r,e[r]);if(v)for(var r of v(e))tt.call(e,r)&&D(t,r,e[r]);return t},k=(t,e)=>Q(t,Y(e));var u=(t,e,r)=>new Promise((s,i)=>{var m=n=>{try{o(r.next(n))}catch(c){i(c)}},a=n=>{try{o(r.throw(n))}catch(c){i(c)}},o=n=>n.done?s(n.value):Promise.resolve(n.value).then(m,a);o((r=r.apply(t,e)).next())});var f=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,r){if(this.alertsActivated&&window.alert(e),r==="error")throw new Error(e)}};f.alertsActivated=!1;var x=(t,e)=>!!t&&e.includes(t);var O="fs-attributes",_={preventLoad:{key:`${O}-preventload`},debugMode:{key:`${O}-debug`}};var N=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},h=t=>{let{preventLoad:e,debugMode:r}=_,s=typeof(t==null?void 0:t.getAttribute(e.key))=="string";return typeof(t==null?void 0:t.getAttribute(r.key))=="string"&&f.activateAlerts(),{preventsLoad:s}},I=t=>e=>`${t}${e?`-${e}`:""}`,V=t=>(r,s,i)=>{let m=t[r],{key:a,values:o}=m,n;if(!s)return`[${a}]`;let c=o==null?void 0:o[s];if(typeof c=="string"?n=c:n=c(i&&"instanceIndex"in i?i.instanceIndex:void 0),!(i==null?void 0:i.operator))return`[${a}="${n}"]`;switch(i.operator){case"prefixed":return`[${a}^="${n}"]`;case"suffixed":return`[${a}$="${n}"]`;case"contains":return`[${a}*="${n}"]`}};var et="https://cdn.jsdelivr.net/npm/@finsweet/attributes-animation@1.0.5/functions.js",rt="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1.0.14/cmscore.js",A=()=>u(void 0,null,function*(){let{fsAttributes:t}=window;if(t.animationImport)return t.animationImport;try{let e=import(et);return t.animationImport=e,e}catch(e){f.alert(`${e}`,"error");return}}),b=()=>u(void 0,null,function*(){let{fsAttributes:t}=window;if(t.cms||(t.cms={}),t.cms.coreImport)return t.cms.coreImport;try{let e=import(rt);return t.cms.coreImport=e,e}catch(e){f.alert(`${e}`,"error");return}});var p="fs-cmssort",y={element:{key:`${p}-element`,values:{list:I("list"),trigger:I("trigger")}},field:{key:`${p}-field`},type:{key:`${p}-type`,values:{date:"date"}},easing:{key:`${p}-easing`},duration:{key:`${p}-duration`},ascClass:{key:`${p}-asc`},descClass:{key:`${p}-desc`}},M=V(y),B=`${p}_asc`,F=`${p}_desc`;var U=.1;var R=(s,i)=>u(void 0,[s,i],function*(t,{durationKey:e,easingKey:r}){let m=yield A();if(!m)return;let{animations:{fade:a},easings:o}=m,n=t.getAttribute(e),c=t.getAttribute(r);t.listAnimation=k(K({},a),{options:{easing:x(c,o)?c:void 0,duration:n?parseFloat(n)/200:U}})});var C=(m,a)=>u(void 0,[m,a],function*(t,{originalItemsOrder:e,direction:r,sortKey:s,addingItems:i}){let{items:o,currentPage:n}=t;r&&s&&o.some(({props:l})=>s in l)?o.sort((l,T)=>{let d=l.props[s],L=T.props[s],[g]=(d==null?void 0:d.values)||[],[S]=(L==null?void 0:L.values)||[];if(!g)return 0;if(!S)return 1;let{type:q}=d;if(q==="date"){let $=new Date(g).getTime(),w=new Date(S).getTime();return r==="asc"?$-w:w-$}return r==="asc"?g.localeCompare(S):S.localeCompare(g)}):t.items=[...e],i||(n&&(t.currentPage=1),yield t.renderItems())});var H=(t,e,r)=>{let s=t.closest("form");s==null||s.addEventListener("submit",ot);let i,m,a=o=>u(void 0,null,function*(){yield C(e,{originalItemsOrder:r,direction:m,sortKey:i,addingItems:o})});return t.addEventListener("change",()=>u(void 0,null,function*(){let{value:o}=t;o.endsWith("-asc")?(m="asc",i=o.slice(0,-4)):o.endsWith("-desc")?(m="desc",i=o.slice(0,-5)):(m="asc",i=o),m=o.endsWith("-desc")?"desc":"asc",yield a()})),a},ot=t=>(t.preventDefault(),t.stopImmediatePropagation(),!1);var P=(t,e,r)=>{let{items:s}=e,i=[...s],m=new Map,a,o,n,c=l=>u(void 0,null,function*(){yield C(e,{originalItemsOrder:i,sortKey:n,direction:o,addingItems:l})});for(let l of t)st(l,m,r),l.addEventListener("click",T=>u(void 0,null,function*(){T.preventDefault();let d=m.get(l);!d||(n=d.sortKey,o=it(d.direction),a&&l!==a&&G(a,void 0,m,r),a=l,G(l,o,m,r),yield c())}));return c},st=(t,e,r)=>{let s=t.getAttribute(y.field.key);!s||(W(t,r),t.setAttribute("role","columnheader"),t.setAttribute("tabindex","0"),j(t),e.set(t,{sortKey:s}))},W=(t,e)=>{for(let r of Object.values(e))t.classList.remove(r)},j=(t,e)=>{t.setAttribute("aria-sort",e?e==="asc"?"ascending":"descending":"none")},G=(t,e,r,s)=>{let i=r.get(t);!i||(W(t,s),e&&t.classList.add(s[e]),j(t,e),i.direction=e)},it=t=>(!t||t)==="desc"?"asc":"desc";var{element:{key:nt},field:{key:J},type:{key:X},duration:{key:at},easing:{key:ct},ascClass:{key:mt},descClass:{key:ut}}=y,E=()=>u(void 0,null,function*(){let t=yield b();if(!t)return;let e=t.createCMSListInstances([M("element","list",{operator:"prefixed"})]);yield Promise.all(e.map(lt))}),lt=t=>u(void 0,null,function*(){let e=t.getInstanceIndex(nt),r=document.querySelectorAll(M("element","trigger",{instanceIndex:e}));if(!r.length)return;let{items:s,listAnimation:i}=t;for(let c of s)c.collectProps({fieldKey:J,typeKey:X});i||R(t,{durationKey:at,easingKey:ct});let m={asc:t.getAttribute(mt)||B,desc:t.getAttribute(ut)||F},[a]=r,o=[...s],n=a instanceof HTMLSelectElement?H(a,t,o):P(r,t,m);t.on("shouldcollectprops",c=>u(void 0,null,function*(){for(let l of c)l.collectProps({fieldKey:J,typeKey:X})})),t.on("shouldsort",c=>u(void 0,null,function*(){o.push(...c),yield n(!0)}))});N();var{currentScript:pt}=document,{preventsLoad:dt}=h(pt);b();A();dt?window.fsAttributes.cmssort={init:E}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(E));})();
