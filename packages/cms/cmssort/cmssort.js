(()=>{var lt=Object.defineProperty,mt=Object.defineProperties;var dt=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var ut=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var P=(t,e,o)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,U=(t,e)=>{for(var o in e||(e={}))ut.call(e,o)&&P(t,o,e[o]);if(B)for(var o of B(e))ft.call(e,o)&&P(t,o,e[o]);return t},V=(t,e)=>mt(t,dt(e));var l=(t,e,o)=>new Promise((r,n)=>{var s=c=>{try{p(o.next(c))}catch(i){n(i)}},a=c=>{try{p(o.throw(c))}catch(i){n(i)}},p=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,a);p((o=o.apply(t,e)).next())});var f=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,o){if(this.alertsActivated&&window.alert(e),o==="error")throw new Error(e)}};f.alertsActivated=!1;var v="w--current";var w={dropdown:"w-dropdown",dropdownToggle:"w-dropdown-toggle",dropdownList:"w-dropdown-list"};var K=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(r=>t.dispatchEvent(new Event(r,{bubbles:!0}))).every(r=>r));var M=(t,e)=>!!t&&e.includes(t);var Y="fs-attributes",F={preventLoad:{key:`${Y}-preventload`},debugMode:{key:`${Y}-debug`}};var H=t=>{let{preventLoad:e,debugMode:o}=F,r=typeof(t==null?void 0:t.getAttribute(e.key))=="string";return typeof(t==null?void 0:t.getAttribute(o.key))=="string"&&f.activateAlerts(),{preventsLoad:r}};var G=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})};var St="https://cdn.jsdelivr.net/npm/@finsweet/attributes-animation@1/functions.js",L=()=>l(void 0,null,function*(){let{fsAttributes:t}=window;if(t.animationImport)return t.animationImport;try{let e=import(St);return t.animationImport=e,e}catch(e){f.alert(`${e}`,"error");return}});var At="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js",T=()=>l(void 0,null,function*(){let{fsAttributes:t}=window;t.cms||(t.cms={});let{cms:e}=t;if(e.coreImport)return e.coreImport;try{let o=import(At);return e.coreImport=o,o.then(r=>{r&&(e.coreVersion||(e.coreVersion=r.version))}),o}catch(o){f.alert(`${o}`,"error");return}});var x=t=>e=>`${t}${e?`-${e}`:""}`,W=t=>{let e=(r,n,s)=>{let a=t[r],{key:p,values:c}=a,i;if(!n)return`[${p}]`;let m=c==null?void 0:c[n];if(typeof m=="string"?i=m:i=m(s&&"instanceIndex"in s?s.instanceIndex:void 0),!(s==null?void 0:s.operator))return`[${p}="${i}"]`;switch(s.operator){case"prefixed":return`[${p}^="${i}"]`;case"suffixed":return`[${p}$="${i}"]`;case"contains":return`[${p}*="${i}"]`}};return[e,(r,n)=>{let s=e("element",r,n);return((n==null?void 0:n.scope)||document).querySelector(s)}]};var gt="cmssort",A=`fs-${gt}`,Et="list",yt="trigger",Ct="dropdown-label",bt="scroll-anchor",xt="field",wt="type",Lt="easing",Tt="duration",_t="asc",Dt="desc",It="reverse",g={element:{key:`${A}-element`,values:{list:x(Et),trigger:x(yt),dropdownLabel:x(Ct),scrollAnchor:x(bt)}},field:{key:`${A}-${xt}`},type:{key:`${A}-${wt}`,values:{date:"date"}},easing:{key:`${A}-${Lt}`},duration:{key:`${A}-${Tt}`},ascClass:{key:`${A}-${_t}`},descClass:{key:`${A}-${Dt}`},reverse:{key:`${A}-${It}`,values:{true:"true"}}},[_,D]=W(g),q=`${A}_asc`,j=`${A}_desc`;var X=.1;var z=(r,n)=>l(void 0,[r,n],function*(t,{durationKey:e,easingKey:o}){let s=yield L();if(!s)return;let{animations:{fade:a},easings:p}=s,{listAnimation:c}=t,i=t.getAttribute(e),m=t.getAttribute(o);if(c&&!i&&!m)return;let d=M(m,p)?m:void 0,S=i?parseFloat(i)/2e3:X;if(!c){t.listAnimation=V(U({},a),{options:{easing:d,duration:S}});return}let{options:u}=c;if(!u){c.options={easing:d,duration:S};return}u.easing||(u.easing=d),i&&(u.duration=S)});function y(t){return t==null?void 0:t.trim().toLowerCase()}var J=(t,e)=>{let{coreVersion:o}=window.fsAttributes.cms;if(!o)return!1;let r={numeric:!0,sensitivity:"base"},n=e.localeCompare(o,void 0,r);return n===0||(t===">="?n<0:n>0)};var C=(n,s)=>l(void 0,[n,s],function*(t,{direction:e,sortKey:o,addingItems:r}){let{items:a,currentPage:p}=t;e&&o&&a.some(({props:i})=>o in i)?a.sort((i,m)=>{let d=i.props[o],S=m.props[o],[u]=(d==null?void 0:d.values)||[],[E]=(S==null?void 0:S.values)||[];if(!u)return 1;if(!E)return-1;let{type:b}=d;if(b==="date"){let N=new Date(u).getTime(),$=new Date(E).getTime();return e==="asc"?N-$:$-N}let h={numeric:!0,sensitivity:"base"};return e==="asc"?u.localeCompare(E,void 0,h):E.localeCompare(u,void 0,h)}):t.restoreItemsOrder(),r||(J(">=","1.5.0")?yield t.switchPage(1,!1):p&&(t.currentPage=1),t.scrollToAnchor(),yield t.renderItems())});var{ascClass:{key:vt},descClass:{key:Kt},reverse:{key:Mt,values:Ot}}=g,Q=(t,e,o)=>{let r=new Map,n=!1,s,a,p,c=i=>l(void 0,null,function*(){yield C(e,{sortKey:p,direction:a,addingItems:i})});for(let i of t)Rt(i,r,o),i.addEventListener("click",m=>l(void 0,null,function*(){if(m.preventDefault(),n)return;n=!0;let d=r.get(i);if(!d){n=!1;return}p=d.sortKey,a=kt(d.direction,d.reverse),s&&i!==s&&et(s,void 0,r),s=i,et(i,a,r),yield c(),n=!1}));return c},Rt=(t,e,o)=>{let r=t.getAttribute(g.field.key);if(!r)return;let n=y(r),s=t.getAttribute(Mt)===Ot.true,a=t.getAttribute(vt),p=t.getAttribute(Kt),c={sortKey:n,reverse:s,cssClasses:{asc:a||o.asc,desc:p||o.desc}};t.setAttribute("role","columnheader"),t.setAttribute("tabindex","0"),tt(t),e.set(t,c),Z(t,c)},Z=(...[t,{cssClasses:e}])=>{for(let o of Object.values(e))t.classList.remove(o)},tt=(t,e)=>{t.setAttribute("aria-sort",e?e==="asc"?"ascending":"descending":"none")},et=(t,e,o)=>{let r=o.get(t);if(!r)return;let{cssClasses:n}=r;Z(t,r),e&&t.classList.add(n[e]),tt(t,e),r.direction=e},kt=(t,e)=>t?t==="desc"?"asc":"desc":e?"desc":"asc";var O="role",I={slider:"slider",listbox:"listbox",option:"option"};var R="aria-selected",ot="aria-haspopup",rt="aria-multiselectable";var st=(t,e=!0)=>{e&&t.focus(),K(t,["click","mouseup"])};var{dropdownToggle:ht,dropdownList:Nt}=w,nt=(t,e)=>{let o=t.querySelector(`.${ht}`),r=t.querySelector(`.${Nt}`);if(!o||!r){f.alert("The cmssort Dropdown is missing a toggle or a list.","error");return}Pt(o,r);let n=Bt(o),s=$t(r);if(!s){f.alert("The cmssort Dropdown doesn't have any option.","error");return}let a=!1,p,c,i=m=>l(void 0,null,function*(){yield C(e,{direction:c,sortKey:p,addingItems:m})});return r.addEventListener("click",m=>l(void 0,null,function*(){if(m.preventDefault(),a)return;a=!0;let{target:d}=m;if(!(d instanceof Element)){a=!1;return}let S=d.closest("a");if(!S){a=!1;return}let u=s.find(({element:b})=>b===S);if(!u||u.selected){a=!1;return}let E=s.find(({selected:b})=>b);E&&(E.selected=!1),u.selected=!0,{sortKey:p,direction:c}=u,Ut(s),n==null||n.updateContent(u),st(o),yield i(),a=!1})),i},$t=t=>{let e=[],o=t.querySelectorAll("a");if(!!o.length){for(let r of o){r.setAttribute(O,I.option);let n=r.getAttribute(g.field.key),s,a;n&&(n.endsWith("-asc")?(a="asc",s=n.slice(0,-4)):n.endsWith("-desc")?(a="desc",s=n.slice(0,-5)):(a="asc",s=n)),s&&(s=y(s)),e.push({element:r,sortKey:s,direction:a,selected:!1})}return e}},Bt=t=>{let e=D("dropdownLabel",{operator:"prefixed",scope:t});if(!e)return;let o=e.innerHTML;return{element:e,originalHTML:o,updateContent:({element:n,sortKey:s})=>{e.innerHTML=s?n.innerHTML:o}}},Pt=(t,e)=>{t.setAttribute(ot,I.listbox),e.setAttribute(O,I.listbox),e.setAttribute(rt,"false")},Ut=t=>{for(let{element:e,selected:o}of t){if(o){e.setAttribute(R,"true"),e.classList.add(v);continue}e.removeAttribute(R),e.classList.remove(v)}};var{field:{key:Vt},type:{key:Yt}}=g,it=(t,e)=>{t.on("shouldcollectprops",o=>l(void 0,null,function*(){for(let r of o)r.collectProps({fieldKey:Vt,typeKey:Yt})})),t.on("shouldsort",()=>l(void 0,null,function*(){yield e(!0)}))};var at=(t,e)=>l(void 0,null,function*(){let o=t.closest("form");o==null||o.addEventListener("submit",Ft);let[r,n]=ct(t.value),s=!1,a=p=>l(void 0,null,function*(){yield C(e,{direction:n,sortKey:r,addingItems:p})});return t.addEventListener("change",()=>l(void 0,null,function*(){s||(s=!0,[r,n]=ct(t.value),yield a(),s=!1)})),r&&(yield a()),a}),Ft=t=>(t.preventDefault(),t.stopImmediatePropagation(),!1),ct=t=>{let e,o;return t.endsWith("-asc")?(o="asc",e=t.slice(0,-4)):t.endsWith("-desc")?(o="desc",e=t.slice(0,-5)):(o="asc",e=t),e=y(e),[e,o]};var{element:{key:Ht},field:{key:Gt},type:{key:Wt},duration:{key:qt},easing:{key:jt},ascClass:{key:Xt},descClass:{key:zt}}=g,pt=t=>l(void 0,null,function*(){let e=t.getInstanceIndex(Ht),o=document.querySelectorAll(_("element","trigger",{instanceIndex:e}));if(!o.length)return;let{items:r}=t;for(let i of r)i.collectProps({fieldKey:Gt,typeKey:Wt});if(z(t,{durationKey:qt,easingKey:jt}),!t.scrollAnchor){let i=D("scrollAnchor",{instanceIndex:e});i&&(t.scrollAnchor=i)}let n={asc:t.getAttribute(Xt)||q,desc:t.getAttribute(zt)||j},[s]=o,a=s instanceof HTMLSelectElement,p=s.closest(`.${w.dropdown}`),c=a?yield at(s,t):p?nt(p,t):Q(o,t,n);!c||it(t,c)});var k=()=>l(void 0,null,function*(){let t=yield T();if(!t)return[];let e=t.createCMSListInstances([_("element","list",{operator:"prefixed"})]);return yield Promise.all(e.map(pt)),e});G();var{currentScript:Jt}=document,{preventsLoad:Qt}=H(Jt);T();L();Qt?window.fsAttributes.cmssort={init:k}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(k));})();
