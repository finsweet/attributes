(()=>{var a=(e,t,o)=>new Promise((n,r)=>{var s=i=>{try{m(o.next(i))}catch(u){r(u)}},c=i=>{try{m(o.throw(i))}catch(u){r(u)}},m=i=>i.done?n(i.value):Promise.resolve(i.value).then(s,c);m((o=o.apply(e,t)).next())});var l=class{static activateAlerts(){this.alertsActivated=!0}static alert(t,o){if(this.alertsActivated&&window.alert(t),o==="error")throw new Error(t)}};l.alertsActivated=!1;var I="fs-attributes",S={preventLoad:{key:`${I}-preventload`},debugMode:{key:`${I}-debug`}};var C=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},x=e=>{let{preventLoad:t,debugMode:o}=S,n=typeof(e==null?void 0:e.getAttribute(t.key))=="string";return typeof(e==null?void 0:e.getAttribute(o.key))=="string"&&l.activateAlerts(),{preventsLoad:n}},f=e=>t=>`${e}${t?`-${t}`:""}`,g=e=>(o,n,r)=>{let s=e[o],{key:c,values:m}=s,i;if(!n)return`[${c}]`;let u=m==null?void 0:m[n];if(typeof u=="string"?i=u:i=u(r&&"instanceIndex"in r?r.instanceIndex:void 0),!(r==null?void 0:r.operator))return`[${c}="${i}"]`;switch(r.operator){case"prefixed":return`[${c}^="${i}"]`;case"suffixed":return`[${c}$="${i}"]`;case"contains":return`[${c}*="${i}"]`}};var w="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js";var p=()=>a(void 0,null,function*(){let{fsAttributes:e}=window;if(e.cms||(e.cms={}),e.cms.coreImport)return e.cms.coreImport;try{let t=import(w);return e.cms.coreImport=t,t}catch(t){l.alert(`${t}`,"error");return}});var $="fs-cmscombine",b={element:{key:`${$}-element`,values:{list:f("list"),itemsCount:f("items-count")}}},y=g(b);var T=e=>{var o;let t=[];for(let n of e){let r=n.getInstanceIndex(b.element.key),s=t[o=r||0]||(t[o]={lists:[],target:n,instanceIndex:r});n!==s.target&&s.lists.push(n)}return t=t.filter(n=>n&&n.lists.length),t};var d=(e,t)=>a(void 0,null,function*(){let o=t.map(({element:n})=>n);yield e.addItems(o)});var A=()=>a(void 0,null,function*(){let e=yield p();if(!e)return[];let t=e.createCMSListInstances([y("element","list",{operator:"prefixed"})]),o=T(t);return yield Promise.all(o.map(v))}),v=n=>a(void 0,[n],function*({lists:e,target:t,instanceIndex:o}){if(!t.itemsCount){let r=document.querySelector(y("element","itemsCount",{instanceIndex:o}));r&&t.addItemsCount(r)}for(let r of e)r.on("additems",s=>a(void 0,null,function*(){return yield d(t,s)}));return yield Promise.all(e.map(c=>a(void 0,[c],function*({wrapper:r,items:s}){r.remove(),yield d(t,s)}))),t});C();var{currentScript:M}=document,{preventsLoad:D}=x(M);p();D?window.fsAttributes.cmscombine={init:A}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(A));})();
