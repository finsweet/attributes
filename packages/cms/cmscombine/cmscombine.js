(()=>{var a=(e,t,r)=>new Promise((o,n)=>{var s=i=>{try{m(r.next(i))}catch(u){n(u)}},c=i=>{try{m(r.throw(i))}catch(u){n(u)}},m=i=>i.done?o(i.value):Promise.resolve(i.value).then(s,c);m((r=r.apply(e,t)).next())});var p=class{static activateAlerts(){this.alertsActivated=!0}static alert(t,r){if(this.alertsActivated&&window.alert(t),r==="error")throw new Error(t)}};p.alertsActivated=!1;var A="fs-attributes",S={preventLoad:{key:`${A}-preventload`},debugMode:{key:`${A}-debug`}};var C=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})},x=e=>{let{preventLoad:t,debugMode:r}=S,o=typeof(e==null?void 0:e.getAttribute(t.key))=="string";return typeof(e==null?void 0:e.getAttribute(r.key))=="string"&&p.activateAlerts(),{preventsLoad:o}},f=e=>t=>`${e}${t?`-${t}`:""}`,g=e=>(r,o,n)=>{let s=e[r],{key:c,values:m}=s,i;if(!o)return`[${c}]`;let u=m==null?void 0:m[o];if(typeof u=="string"?i=u:i=u(n&&"instanceIndex"in n?n.instanceIndex:void 0),!(n==null?void 0:n.operator))return`[${c}="${i}"]`;switch(n.operator){case"prefixed":return`[${c}^="${i}"]`;case"suffixed":return`[${c}$="${i}"]`;case"contains":return`[${c}*="${i}"]`}};var w="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js";var l=()=>a(void 0,null,function*(){let{fsAttributes:e}=window;e.cms||(e.cms={});let{cms:t}=e;if(t.coreImport)return t.coreImport;try{let r=import(w);return t.coreImport=r,r.then(o=>{o&&(t.coreVersion||(t.coreVersion=o.version))}),r}catch(r){p.alert(`${r}`,"error");return}});var $="fs-cmscombine",b={element:{key:`${$}-element`,values:{list:f("list"),itemsCount:f("items-count")}}},y=g(b);var T=e=>{var r;let t=[];for(let o of e){let n=o.getInstanceIndex(b.element.key),s=t[r=n||0]||(t[r]={lists:[],target:o,instanceIndex:n});o!==s.target&&s.lists.push(o)}return t=t.filter(o=>o&&o.lists.length),t};var d=(e,t)=>a(void 0,null,function*(){let r=t.map(({element:o})=>o);yield e.addItems(r)});var I=()=>a(void 0,null,function*(){let e=yield l();if(!e)return[];let t=e.createCMSListInstances([y("element","list",{operator:"prefixed"})]),r=T(t);return yield Promise.all(r.map(v))}),v=o=>a(void 0,[o],function*({lists:e,target:t,instanceIndex:r}){if(!t.itemsCount){let n=document.querySelector(y("element","itemsCount",{instanceIndex:r}));n&&t.addItemsCount(n)}for(let n of e)n.on("additems",s=>a(void 0,null,function*(){return yield d(t,s)}));return yield Promise.all(e.map(c=>a(void 0,[c],function*({wrapper:n,items:s}){n.remove(),yield d(t,s)}))),t});C();var{currentScript:M}=document,{preventsLoad:D}=x(M);l();D?window.fsAttributes.cmscombine={init:I}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(I));})();
