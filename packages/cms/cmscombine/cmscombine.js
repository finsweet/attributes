(()=>{var m=(e,t,r)=>new Promise((o,s)=>{var n=i=>{try{a(r.next(i))}catch(c){s(c)}},p=i=>{try{a(r.throw(i))}catch(c){s(c)}},a=i=>i.done?o(i.value):Promise.resolve(i.value).then(n,p);a((r=r.apply(e,t)).next())});var l=class{static activateAlerts(){this.alertsActivated=!0}static alert(t,r){if(this.alertsActivated&&window.alert(t),r==="error")throw new Error(t)}};l.alertsActivated=!1;var S="fs-attributes",A={preventLoad:{key:`${S}-preventload`},debugMode:{key:`${S}-debug`}};var g=e=>{let{preventLoad:t,debugMode:r}=A,o=typeof(e==null?void 0:e.getAttribute(t.key))=="string";return typeof(e==null?void 0:e.getAttribute(r.key))=="string"&&l.activateAlerts(),{preventsLoad:o}};var I=()=>{window.fsAttributes||(window.fsAttributes={cms:{}})};var v="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js",u=()=>m(void 0,null,function*(){let{fsAttributes:e}=window;e.cms||(e.cms={});let{cms:t}=e;if(t.coreImport)return t.coreImport;try{let r=import(v);return t.coreImport=r,r.then(o=>{o&&(t.coreVersion||(t.coreVersion=o.version))}),r}catch(r){l.alert(`${r}`,"error");return}});var f=e=>t=>`${e}${t?`-${t}`:""}`,x=e=>{let t=(o,s,n)=>{let p=e[o],{key:a,values:i}=p,c;if(!s)return`[${a}]`;let b=i==null?void 0:i[s];if(typeof b=="string"?c=b:c=b(n&&"instanceIndex"in n?n.instanceIndex:void 0),!(n==null?void 0:n.operator))return`[${a}="${c}"]`;switch(n.operator){case"prefixed":return`[${a}^="${c}"]`;case"suffixed":return`[${a}$="${c}"]`;case"contains":return`[${a}*="${c}"]`}};return[t,(o,s)=>{let n=t("element",o,s);return((s==null?void 0:s.scope)||document).querySelector(n)}]};var E="fs-cmscombine",y={element:{key:`${E}-element`,values:{list:f("list"),itemsCount:f("items-count")}}},[T,$]=x(y);var w=e=>{var r;let t=[];for(let o of e){let s=o.getInstanceIndex(y.element.key),n=t[r=s||0]||(t[r]={lists:[],target:o,instanceIndex:s});o!==n.target&&n.lists.push(o)}return t=t.filter(o=>o&&o.lists.length),t};var d=(e,t)=>m(void 0,null,function*(){let r=t.map(({element:o})=>o);yield e.addItems(r)});var C=()=>m(void 0,null,function*(){let e=yield u();if(!e)return[];let t=e.createCMSListInstances([T("element","list",{operator:"prefixed"})]),r=w(t);return yield Promise.all(r.map(M))}),M=o=>m(void 0,[o],function*({lists:e,target:t,instanceIndex:r}){if(!t.itemsCount){let s=$("itemsCount",{instanceIndex:r});s&&t.addItemsCount(s)}for(let s of e)s.on("additems",n=>m(void 0,null,function*(){return yield d(t,n)}));return yield Promise.all(e.map(p=>m(void 0,[p],function*({wrapper:s,items:n}){s.remove(),yield d(t,n)}))),t});I();var{currentScript:L}=document,{preventsLoad:D}=g(L);u();D?window.fsAttributes.cmscombine={init:C}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(C));})();
