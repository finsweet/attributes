(()=>{var ye=Object.create;var M=Object.defineProperty;var ge=Object.getOwnPropertyDescriptor;var he=Object.getOwnPropertyNames,J=Object.getOwnPropertySymbols,Se=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var Q=(i,e,n)=>e in i?M(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,D=(i,e)=>{for(var n in e||(e={}))X.call(e,n)&&Q(i,n,e[n]);if(J)for(var n of J(e))Ee.call(e,n)&&Q(i,n,e[n]);return i};var we=i=>M(i,"__esModule",{value:!0});var xe=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Ce=(i,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of he(e))!X.call(i,t)&&t!=="default"&&M(i,t,{get:()=>e[t],enumerable:!(n=ge(e,t))||n.enumerable});return i},Ie=i=>Ce(we(M(i!=null?ye(Se(i)):{},"default",i&&i.__esModule&&"default"in i?{get:()=>i.default,enumerable:!0}:{value:i,enumerable:!0})),i);var f=(i,e,n)=>new Promise((t,r)=>{var l=a=>{try{s(n.next(a))}catch(c){r(c)}},o=a=>{try{s(n.throw(a))}catch(c){r(c)}},s=a=>a.done?t(a.value):Promise.resolve(a.value).then(l,o);s((n=n.apply(i,e)).next())});var le=xe((ft,se)=>{"use strict";var m=new WeakMap,v=new WeakMap,x=new WeakMap,q=Symbol("anyProducer"),ne=Promise.resolve(),F=Symbol("listenerAdded"),T=Symbol("listenerRemoved"),R=!1;function g(i){if(typeof i!="string"&&typeof i!="symbol")throw new TypeError("eventName must be a string or a symbol")}function P(i){if(typeof i!="function")throw new TypeError("listener must be a function")}function h(i,e){let n=v.get(i);return n.has(e)||n.set(e,new Set),n.get(e)}function C(i,e){let n=typeof e=="string"||typeof e=="symbol"?e:q,t=x.get(i);return t.has(n)||t.set(n,new Set),t.get(n)}function ve(i,e,n){let t=x.get(i);if(t.has(e))for(let r of t.get(e))r.enqueue(n);if(t.has(q)){let r=Promise.all([e,n]);for(let l of t.get(q))l.enqueue(r)}}function ie(i,e){e=Array.isArray(e)?e:[e];let n=!1,t=()=>{},r=[],l={enqueue(o){r.push(o),t()},finish(){n=!0,t()}};for(let o of e)C(i,o).add(l);return{next(){return f(this,null,function*(){return r?r.length===0?n?(r=void 0,this.next()):(yield new Promise(o=>{t=o}),this.next()):{done:!1,value:yield r.shift()}:{done:!0}})},return(s){return f(this,arguments,function*(o){r=void 0;for(let a of e)C(i,a).delete(l);return t(),arguments.length>0?{done:!0,value:yield o}:{done:!0}})},[Symbol.asyncIterator](){return this}}}function re(i){if(i===void 0)return oe;if(!Array.isArray(i))throw new TypeError("`methodNames` must be an array of strings");for(let e of i)if(!oe.includes(e))throw typeof e!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${e} is not Emittery method`);return i}var _=i=>i===F||i===T,d=class{static mixin(e,n){return n=re(n),t=>{if(typeof t!="function")throw new TypeError("`target` must be function");for(let o of n)if(t.prototype[o]!==void 0)throw new Error(`The property \`${o}\` already exists on \`target\``);function r(){return Object.defineProperty(this,e,{enumerable:!1,value:new d}),this[e]}Object.defineProperty(t.prototype,e,{enumerable:!1,get:r});let l=o=>function(...s){return this[e][o](...s)};for(let o of n)Object.defineProperty(t.prototype,o,{enumerable:!1,value:l(o)});return t}}static get isDebugEnabled(){if(typeof process!="object")return R;let{env:e}=process||{env:{}};return e.DEBUG==="emittery"||e.DEBUG==="*"||R}static set isDebugEnabled(e){R=e}constructor(e={}){m.set(this,new Set),v.set(this,new Map),x.set(this,new Map),this.debug=e.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(n,t,r,l)=>{l=JSON.stringify(l),typeof r=="symbol"&&(r=r.toString());let o=new Date,s=`${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}.${o.getMilliseconds()}`;console.log(`[${s}][emittery:${n}][${t}] Event Name: ${r}
	data: ${l}`)})}logIfDebugEnabled(e,n,t){(d.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,n,t)}on(e,n){P(n),e=Array.isArray(e)?e:[e];for(let t of e)g(t),h(this,t).add(n),this.logIfDebugEnabled("subscribe",t,void 0),_(t)||this.emit(F,{eventName:t,listener:n});return this.off.bind(this,e,n)}off(e,n){P(n),e=Array.isArray(e)?e:[e];for(let t of e)g(t),h(this,t).delete(n),this.logIfDebugEnabled("unsubscribe",t,void 0),_(t)||this.emit(T,{eventName:t,listener:n})}once(e){return new Promise(n=>{let t=this.on(e,r=>{t(),n(r)})})}events(e){e=Array.isArray(e)?e:[e];for(let n of e)g(n);return ie(this,e)}emit(e,n){return f(this,null,function*(){g(e),this.logIfDebugEnabled("emit",e,n),ve(this,e,n);let t=h(this,e),r=m.get(this),l=[...t],o=_(e)?[]:[...r];yield ne,yield Promise.all([...l.map(s=>f(this,null,function*(){if(t.has(s))return s(n)})),...o.map(s=>f(this,null,function*(){if(r.has(s))return s(e,n)}))])})}emitSerial(e,n){return f(this,null,function*(){g(e),this.logIfDebugEnabled("emitSerial",e,n);let t=h(this,e),r=m.get(this),l=[...t],o=[...r];yield ne;for(let s of l)t.has(s)&&(yield s(n));for(let s of o)r.has(s)&&(yield s(e,n))})}onAny(e){return P(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),m.get(this).add(e),this.emit(F,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return ie(this)}offAny(e){P(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(T,{listener:e}),m.get(this).delete(e)}clearListeners(e){e=Array.isArray(e)?e:[e];for(let n of e)if(this.logIfDebugEnabled("clear",n,void 0),typeof n=="string"||typeof n=="symbol"){h(this,n).clear();let t=C(this,n);for(let r of t)r.finish();t.clear()}else{m.get(this).clear();for(let t of v.get(this).values())t.clear();for(let t of x.get(this).values()){for(let r of t)r.finish();t.clear()}}}listenerCount(e){e=Array.isArray(e)?e:[e];let n=0;for(let t of e){if(typeof t=="string"){n+=m.get(this).size+h(this,t).size+C(this,t).size+C(this).size;continue}typeof t!="undefined"&&g(t),n+=m.get(this).size;for(let r of v.get(this).values())n+=r.size;for(let r of x.get(this).values())n+=r.size}return n}bindMethods(e,n){if(typeof e!="object"||e===null)throw new TypeError("`target` must be an object");n=re(n);for(let t of n){if(e[t]!==void 0)throw new Error(`The property \`${t}\` already exists on \`target\``);Object.defineProperty(e,t,{enumerable:!1,value:this[t].bind(this)})}}},oe=Object.getOwnPropertyNames(d.prototype).filter(i=>i!=="constructor");Object.defineProperty(d,"listenerAdded",{value:F,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(d,"listenerRemoved",{value:T,writable:!1,enumerable:!0,configurable:!1});se.exports=d});var y=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,n){if(this.alertsActivated&&window.alert(e),n==="error")throw new Error(e)}};y.alertsActivated=!1;var $=(i,e)=>!!i&&e.includes(i);var V=i=>{let e=i.split("-"),n=parseInt(e[e.length-1]);if(!isNaN(n))return n};var O=i=>!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length);var S=i=>i instanceof HTMLInputElement||i instanceof HTMLSelectElement||i instanceof HTMLTextAreaElement;var E=i=>i!=null;var w={wrapper:"w-dyn-list",list:"w-dyn-items",item:"w-dyn-item",paginationNext:"w-pagination-next",paginationPrevious:"w-pagination-previous"},L={formBlock:"w-form",checkboxField:"w-checkbox",checkboxInput:"w-checkbox-input",radioField:"w-radio",radioInput:"w-radio-input",checkboxOrRadioLabel:"w-form-label"};var{wrapper:Ae,list:Y,paginationNext:Me,paginationPrevious:Le}=w;function p(i,e,n=document){let t=typeof i=="string"?n.querySelector(i):i;if(!t)return;if(e==="wrapper")return t.closest(`.${Ae}`);if(e==="next")return t.querySelector(`.${Me}`);if(e==="previous")return t.querySelector(`.${Le}`);let r=t.querySelector(`.${Y}`)||t.closest(`.${Y}`);if(!!r){if(e==="items")return[...r.children];if(e==="list")return r}}var H=()=>f(void 0,null,function*(){var e;let{Webflow:i}=window;if(!(!i||!("destroy"in i)||!("ready"in i)||!("require"in i)))return i.destroy(),i.ready(),(e=i.require("ix2"))==null||e.init(),new Promise(n=>i.push(()=>n(void 0)))});var Z="fs-attributes",N={preventLoad:{key:`${Z}-preventload`},debugMode:{key:`${Z}-debug`}};window.fsAttributes||(window.fsAttributes={});var ee=i=>{let{preventLoad:e,debugMode:n}=N,t=typeof(i==null?void 0:i.getAttribute(e.key))=="string";return typeof(i==null?void 0:i.getAttribute(n.key))=="string"&&y.activateAlerts(),{preventsLoad:t}},B=i=>e=>`${i}${e?`-${e}`:""}`,te=i=>(n,t,r)=>{let l=i[n],{key:o,values:s}=l,a;if(!t)return`[${o}]`;let c=s==null?void 0:s[t];if(typeof c=="string"?a=c:a=c(r&&"instanceIndex"in r?r.instanceIndex:void 0),!(r==null?void 0:r.operator))return`[${o}="${a}"]`;switch(r.operator){case"prefixed":return`[${o}^="${a}"]`;case"suffixed":return`[${o}$="${a}"]`;case"contains":return`[${o}*="${a}"]`}},W=(i,e)=>{let n=i.getAttribute(e);return n?V(n):void 0};var ae=Ie(le());var ce=i=>{var l,o;let e=p(i,"wrapper");if(!e){y.alert("The element is not a Collection List.","error");return}let t=[...document.querySelectorAll(`.${w.wrapper}`)].indexOf(e);if(t===-1)return;let{fsAttributes:r}=window;return r.cms||(r.cms={}),(l=r.cms).lists||(l.lists=[]),(o=r.cms.lists)[t]||(o[t]=new ue(e,t)),r.cms.lists[t]},ue=class extends ae.default{constructor(e,n){super();this.wrapper=e;this.pageIndex=n;this.list=p(this.wrapper,"list"),this.paginationNext=p(this.wrapper,"next"),this.paginationPrevious=p(this.wrapper,"previous");let t=p(this.wrapper,"items");this.itemsPerPage=t.length,this.items=t.map(l=>new j(l,this.list));let r=[...document.querySelectorAll(`.${w.wrapper}`)];this.pageIndex=r.findIndex(l=>l===this.wrapper)}addAnimation(e){this.animation=e}addItems(e,n=!0,t){let{items:r,list:l}=this,o=e.map(s=>new j(s,l));r.push(...o),n&&this.showItems(o),t==null||t(o),this.emit("additems",o)}showItems(e,n=!0){return f(this,null,function*(){let{animation:t,list:r}=this;Array.isArray(e)||(e=[e]);let l=e.filter(({visible:s,isShowing:a,isHiding:c})=>n?!s&&!a:s&&!c),o=l.map(({element:s})=>s);for(let s of l)s[n?"isShowing":"isHiding"]=!0;if(t){let{options:s,resetIx:a}=t;n?yield t.in(o,D({target:r},s)):yield t.out(o,D({remove:!0},s)),a&&(yield H())}else for(let s of o)n?r.appendChild(s):s.remove();for(let s of l)s[n?"isShowing":"isHiding"]=!1,s.visible=n})}hideItems(e){return f(this,null,function*(){this.showItems(e,!1)})}getAttribute(e){let{wrapper:n,list:t}=this;return n.getAttribute(e)||t.getAttribute(e)}getInstanceIndex(e){let{wrapper:n,list:t}=this;return W(n,e)||W(t,e)}},j=class{constructor(e,n){this.element=e;this.list=n;this.props={};this.isShowing=!1;this.isHiding=!1;this.visible=O(e)}addProp(e,n){this.props[e]=n}};var fe=i=>(i=i.filter(t=>t),[...document.querySelectorAll(i.join(", "))].reduce((t,r)=>{if(!r)return t;let l=p(r,"wrapper");return!l||t.includes(l)||t.push(l),t},[]));var I="fs-cmsfilter",A={element:{key:`${I}-element`,values:{list:B("list"),filters:B("filters"),reset:"reset"}},field:{key:`${I}-field`},match:{key:`${I}-match`,values:{any:"any",all:"all"}},range:{key:`${I}-range`,values:{from:"from",to:"to"}},lists:{key:`${I}-lists`}},b=te(A),pe=["any","all","from","to"];var{field:{key:me},range:{key:Fe},match:{key:Te}}=A,{checkboxField:Pe,radioField:ke}=L,de=i=>{let e=new Map,n=i.querySelectorAll(b("field"));for(let t of n){let r=t.getAttribute(me);if(!r)continue;let l=t.getAttribute(Te)||t.getAttribute(Fe),o=$(l,pe)?l:void 0,s=t.closest(`.${Pe}, .${ke}`);if(s){let a=t instanceof HTMLInputElement,c=a?t:s.querySelector("input");e.set(c,{filterKey:r,mode:o,fixedValue:a?void 0:t.textContent});continue}S(t)&&t.type!=="submit"&&e.set(t,{filterKey:r,mode:o})}return e},K=i=>{for(let e of i){let t=[...e.element.querySelectorAll(b("field"))].reduce((r,l)=>{let o=l.getAttribute(me),{textContent:s}=l;return!o||!s||(r[o]||(r[o]=[]),r[o].push(s)),r},{});for(let r in t)e.addProp(r,t[r])}};var U=class{constructor(e,n){this.formBlock=e;this.listInstance=n;this.activeFilters=new Map;this.form=e.querySelector("form"),this.resetButton=e.querySelector(b("element","reset")),this.submitButton=e.querySelector('input[type="submit"]'),this.filtersData=de(this.form),K(n.items),this.listenEvents()}listenEvents(){let{form:e,resetButton:n,listInstance:t}=this;e.addEventListener("input",r=>this.handleInputEvents(r)),e.addEventListener("submit",r=>this.handleSubmit(r)),n==null||n.addEventListener("click",()=>this.resetFilters()),t.on("additems",r=>{K(r),this.applyFilters(r)})}handleInputEvents({target:e}){if(!S(e))return;let{filtersData:n,activeFilters:t}=this,r=n.get(e);if(!r)return;let{filterKey:l,fixedValue:o,mode:s}=r,a=s==="from"||s==="to"?"range":s,c=t.get(l);switch(e.type){case"checkbox":{let{checked:u}=e;if(c){c.match=a,o?c.values[u?"add":"delete"](o):u?c.values=new Set([`${u}`]):t.delete(l);break}t.set(l,{values:new Set([u&&o?o:`${u}`]),match:a});break}case"radio":{let{checked:u}=e;if(u&&o){if(c){c.values=new Set([o]),c.match=a;break}t.set(l,{values:new Set([o]),match:a});break}t.delete(l);break}default:{let{value:u,type:k}=e;if(c){if(c.match=a,c.type=k,a==="range"){let G=[...c.values];G[s==="from"?0:1]=u,c.values=new Set(G)}else c.values=new Set([u]);break}t.set(l,{match:a,type:k,values:a==="range"?new Set(s==="from"?[u]:[,u]):new Set([u])});break}}console.log(t)}handleSubmit(e){e.preventDefault(),e.stopImmediatePropagation(),this.applyFilters()}applyFilters(e){let{listInstance:n,activeFilters:t}=this,r=[...t.entries()],l=r.every(([,{values:a}])=>!a.size),o=[],s=[];for(let a of e||n.items)l||De(a,r)?o.push(a):s.push(a);n.showItems(o),n.hideItems(s)}resetFilters(){console.log("resetting filters");let{form:e,activeFilters:n}=this;n.clear(),this.applyFilters(),e.reset()}},De=(i,e)=>e.every(([n,{values:t,match:r,type:l}])=>{let o=[...t].filter(E).map(s=>l==="date"?new Date(s):s);if(r==="range"){let[s,a]=o,[c]=i.props[n];if(!s||!a||!c||typeof s!="object"||typeof a!="object")return!1;let u=new Date(c);return u>=s&&u<=a}return o[r==="all"?"every":"some"](s=>{var c;return(c=i.props[n])==null?void 0:c.some(u=>typeof s=="object"?s===new Date(u):s===u)})});var{element:{key:$e},lists:{key:Ve}}=A,z=i=>{let e;i instanceof HTMLScriptElement||i instanceof SVGScriptElement?e=i.getAttribute(Ve):i&&(e=i.listsSelector);let t=fe([b("element","list",{operator:"prefixed"}),e]).map(ce).filter(E);for(let r of t){let l=r.getInstanceIndex($e),o=document.querySelector(b("element","filters",{instanceIndex:l}));if(!o)continue;let s=o.closest(`.${L.formBlock}`);if(!s)continue;let a=new U(s,r);console.log(a)}};var{currentScript:be}=document,{preventsLoad:Oe}=ee(be);Oe?window.fsAttributes.cmsfilter={init:z}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(()=>z(be)));})();
