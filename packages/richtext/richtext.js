(()=>{var u=(e,t,n)=>new Promise((i,o)=>{var s=r=>{try{c(n.next(r))}catch(l){o(l)}},a=r=>{try{c(n.throw(r))}catch(l){o(l)}},c=r=>r.done?i(r.value):Promise.resolve(r.value).then(s,a);c((n=n.apply(e,t)).next())});var p=class{static activateAlerts(){this.alertsActivated=!0}static alert(t,n){if(this.alertsActivated&&window.alert(t),n==="error")throw new Error(t)}};p.alertsActivated=!1;var E="w-richtext",y="w-embed";var b=()=>u(void 0,null,function*(){var t;let{Webflow:e}=window;if(!(!e||!("destroy"in e)||!("ready"in e)||!("require"in e)))return e.destroy(),e.ready(),(t=e.require("ix2"))==null||t.init(),new Promise(n=>e.push(()=>n(void 0)))});var w="fs-attributes",A={preventLoad:{key:`${w}-preventload`},debugMode:{key:`${w}-debug`}};window.fsAttributes||(window.fsAttributes={});var _=e=>{let{preventLoad:t,debugMode:n}=A,i=typeof(e==null?void 0:e.getAttribute(t.key))=="string";return typeof(e==null?void 0:e.getAttribute(n.key))=="string"&&p.activateAlerts(),{preventsLoad:i}};var L=e=>(n,i,o)=>{let s=e[n],{key:a,values:c}=s,r;if(!i)return`[${a}]`;let l=c==null?void 0:c[i];if(typeof l=="string"?r=l:r=l(o&&"instanceIndex"in o?o.instanceIndex:void 0),!(o==null?void 0:o.operator))return`[${a}="${r}"]`;switch(o.operator){case"prefixed":return`[${a}^="${r}"]`;case"suffixed":return`[${a}$="${r}"]`;case"contains":return`[${a}*="${r}"]`}};var m="fs-richtext",d={element:{key:`${m}-element`,values:{richText:"rich-text"}},component:{key:`${m}-component`},sanitize:{key:`${m}-sanitize`,values:{true:"true"}},resetIx:{key:`${m}-resetix`,values:{true:"true"}},globalSelector:{key:`${m}-selector`}},M=L(d),T="&lt;!-- fs-richtext-ignore --&gt;";var f=/\{\{.*?\}\}/,x=/\=\".*?\"/,I=/\&lt\;.*?\&gt\;/,P=/^\&lt\;.*?\&gt\;$/,h=/\/+$/;var C=e=>e.replace(/(&nbsp;)/g," ").replace(/(&lt;)/g,"<").replace(/(&gt;)/g,">").replace(/(&amp;)/g,"&").replace(/(&quot;)/g,'"').replace(/(&#96;)/g,"`").replace(/(&#x27;)/g,"'"),R=e=>[...e.querySelectorAll("p")].filter(i=>{let{innerHTML:o}=i;if(!o)return!1;let s=o.includes(T),a=f.test(o),c=I.test(o),r=i.closest(`.${y}`);return s?(i.innerHTML=o.replace(T,""),!1):(c||a)&&!r});var O=e=>u(void 0,null,function*(){let t,[n]=e.match(f)||[];if(!n)return;let i=n.replace("{{","").replace("}}","").trim();if(!x.test(i))t=yield H(i);else{let[s]=i.split('="'),[a]=i.match(x)||[];if(!s||!a)return;let{origin:c,href:r}=window.location,l=a.replace('="',"").replace('"',"").trim();l.startsWith("/")&&(l=c.replace(h,"")+l);let{href:k}=new URL(l);t=yield H(s,r!==k?l:void 0)}if(t)return t.outerHTML}),H=(e,t)=>u(void 0,null,function*(){let n;if(t)try{let s=yield(yield fetch(t)).text();n=new DOMParser().parseFromString(s,"text/html")}catch(o){p.alert(`[${t}] is not a valid source.`,"error");return}let i=(n||document).querySelector(`[${d.component.key}="${e}"]`);return i||p.alert(`No components were found with the [${e}] key.`,"info"),i});var $="https://cdn.jsdelivr.net/npm/dompurify@2/dist/purify.es.min.js",S,D=()=>u(void 0,null,function*(){if(S)return S;try{return S=(yield import($)).default,S}catch(e){p.alert("There was an issue while importing DOMPurify.","info");return}}),N=e=>u(void 0,null,function*(){let t=yield D();return t?t.sanitize(e):""});var{sanitize:{key:G,values:V},resetIx:{key:X,values:B},globalSelector:{key:z}}=d,g=e=>{let t=null;e instanceof HTMLScriptElement||e instanceof SVGScriptElement?t=e.getAttribute(z):e&&(t=e.selector);let n=document.querySelectorAll(`.${E}${M("element","richText",{operator:"prefixed"})}${t?`, .${E}${t}`:""}`);for(let i of n)F(i)},F=e=>u(void 0,null,function*(){let t=R(e),n=e.getAttribute(G)===V.true,i=e.getAttribute(X)===B.true;yield Promise.all(t.map(o=>u(void 0,null,function*(){let{innerHTML:s}=o,a=f.test(s),c=P.test(s.trim());if(a){let r=yield O(s);r&&(o.outerHTML=r)}else{let r=C(s);o[c?"outerHTML":"innerHTML"]=n?yield N(r):r}}))),i&&(yield b())});var{currentScript:v}=document,{preventsLoad:K}=_(v);K?window.fsAttributes.richtext={init:g}:(window.Webflow||(window.Webflow=[]),window.Webflow.push(()=>g(v)));})();
